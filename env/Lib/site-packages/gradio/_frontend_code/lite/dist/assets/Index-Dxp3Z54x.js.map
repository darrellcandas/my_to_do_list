{"version":3,"file":"Index-Dxp3Z54x.js","sources":["../../../icons/dist/src/Chat.svelte","../../../icons/dist/src/Retry.svelte","../../../icons/dist/src/ScrollDownArrow.svelte","../../../chatbot/dist/shared/utils.js","../../../chatbot/dist/shared/Component.svelte","../../../chatbot/dist/shared/MessageBox.svelte","../../../chatbot/dist/shared/ThumbDownActive.svelte","../../../chatbot/dist/shared/ThumbDownDefault.svelte","../../../chatbot/dist/shared/ThumbUpActive.svelte","../../../chatbot/dist/shared/ThumbUpDefault.svelte","../../../chatbot/dist/shared/LikeDislike.svelte","../../../chatbot/dist/shared/Copy.svelte","../../../chatbot/dist/shared/Download.svelte","../../../chatbot/dist/shared/ButtonPanel.svelte","../../../chatbot/dist/shared/Message.svelte","../../../chatbot/dist/shared/Pending.svelte","../../../chatbot/dist/shared/CopyAll.svelte","../../../chatbot/dist/shared/ChatBot.svelte","../../../chatbot/dist/Index.svelte"],"sourcesContent":["<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\taria-hidden=\"true\"\n\trole=\"img\"\n\tclass=\"iconify iconify--carbon\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\tpreserveAspectRatio=\"xMidYMid meet\"\n\tviewBox=\"0 0 32 32\"\n>\n\t<path\n\t\tfill=\"currentColor\"\n\t\td=\"M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z\"\n\t/>\n\t<path fill=\"currentColor\" d=\"M8 10h16v2H8zm0 6h10v2H8z\" />\n</svg>\n","<svg\n\twidth=\"100%\"\n\theight=\"100%\"\n\tstroke-width=\"1.5\"\n\tviewBox=\"0 0 24 24\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tcolor=\"currentColor\"\n>\n\t<path\n\t\td=\"M19.1679 9C18.0247 6.46819 15.3006 4.5 11.9999 4.5C8.31459 4.5 5.05104 7.44668 4.54932 11\"\n\t\tstroke=\"currentColor\"\n\t\tstroke-width=\"1.5\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path>\n\t<path\n\t\td=\"M16 9H19.4C19.7314 9 20 8.73137 20 8.4V5\"\n\t\tstroke=\"currentColor\"\n\t\tstroke-width=\"1.5\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path>\n\t<path\n\t\td=\"M4.88146 15C5.92458 17.5318 8.64874 19.5 12.0494 19.5C15.7347 19.5 18.9983 16.5533 19.5 13\"\n\t\tstroke=\"currentColor\"\n\t\tstroke-width=\"1.5\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path>\n\t<path\n\t\td=\"M8.04932 15H4.64932C4.31795 15 4.04932 15.2686 4.04932 15.6V19\"\n\t\tstroke=\"currentColor\"\n\t\tstroke-width=\"1.5\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path>\n</svg>\n","<svg\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 24 24\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\td=\"M12 20L12 4M12 20L7 15M12 20L17 15\"\n\t\tstroke=\"currentColor\"\n\t\tstroke-width=\"2\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t/>\n</svg>\n","import { uploadToHuggingFace } from \"@gradio/utils\";\nimport { Gradio } from \"@gradio/utils\";\nexport const format_chat_for_sharing = async (chat) => {\n    let messages = await Promise.all(chat.map(async (message_pair) => {\n        return await Promise.all(message_pair.map(async (message, i) => {\n            if (message === null)\n                return \"\";\n            let speaker_emoji = i === 0 ? \"ðŸ˜ƒ\" : \"ðŸ¤–\";\n            let html_content = \"\";\n            if (typeof message === \"string\") {\n                const regexPatterns = {\n                    audio: /<audio.*?src=\"(\\/file=.*?)\"/g,\n                    video: /<video.*?src=\"(\\/file=.*?)\"/g,\n                    image: /<img.*?src=\"(\\/file=.*?)\".*?\\/>|!\\[.*?\\]\\((\\/file=.*?)\\)/g\n                };\n                html_content = message;\n                for (let [_, regex] of Object.entries(regexPatterns)) {\n                    let match;\n                    while ((match = regex.exec(message)) !== null) {\n                        const fileUrl = match[1] || match[2];\n                        const newUrl = await uploadToHuggingFace(fileUrl, \"url\");\n                        html_content = html_content.replace(fileUrl, newUrl);\n                    }\n                }\n            }\n            else {\n                if (!message?.url)\n                    return \"\";\n                const file_url = await uploadToHuggingFace(message.url, \"url\");\n                if (message.mime_type?.includes(\"audio\")) {\n                    html_content = `<audio controls src=\"${file_url}\"></audio>`;\n                }\n                else if (message.mime_type?.includes(\"video\")) {\n                    html_content = file_url;\n                }\n                else if (message.mime_type?.includes(\"image\")) {\n                    html_content = `<img src=\"${file_url}\" />`;\n                }\n            }\n            return `${speaker_emoji}: ${html_content}`;\n        }));\n    }));\n    return messages\n        .map((message_pair) => message_pair.join(message_pair[0] !== \"\" && message_pair[1] !== \"\" ? \"\\n\" : \"\"))\n        .join(\"\\n\");\n};\nconst redirect_src_url = (src, root) => src.replace('src=\"/file', `src=\"${root}file`);\nfunction get_component_for_mime_type(mime_type) {\n    if (!mime_type)\n        return \"file\";\n    if (mime_type.includes(\"audio\"))\n        return \"audio\";\n    if (mime_type.includes(\"video\"))\n        return \"video\";\n    if (mime_type.includes(\"image\"))\n        return \"image\";\n    return \"file\";\n}\nfunction convert_file_message_to_component_message(message) {\n    const _file = Array.isArray(message.file) ? message.file[0] : message.file;\n    return {\n        component: get_component_for_mime_type(_file?.mime_type),\n        value: message.file,\n        alt_text: message.alt_text,\n        constructor_args: {},\n        props: {}\n    };\n}\nexport function normalise_messages(messages, root) {\n    if (messages === null)\n        return messages;\n    return messages.map((message, i) => {\n        if (typeof message.content === \"string\") {\n            return {\n                role: message.role,\n                metadata: message.metadata,\n                content: redirect_src_url(message.content, root),\n                type: \"text\",\n                index: i\n            };\n        }\n        else if (\"file\" in message.content) {\n            return {\n                content: convert_file_message_to_component_message(message.content),\n                metadata: message.metadata,\n                role: message.role,\n                type: \"component\",\n                index: i\n            };\n        }\n        return { type: \"component\", ...message };\n    });\n}\nexport function normalise_tuples(messages, root) {\n    if (messages === null)\n        return messages;\n    const msg = messages.flatMap((message_pair, i) => {\n        return message_pair.map((message, index) => {\n            if (message == null)\n                return null;\n            const role = index == 0 ? \"user\" : \"assistant\";\n            if (typeof message === \"string\") {\n                return {\n                    role: role,\n                    type: \"text\",\n                    content: redirect_src_url(message, root),\n                    metadata: { title: null },\n                    index: [i, index]\n                };\n            }\n            if (\"file\" in message) {\n                return {\n                    content: convert_file_message_to_component_message(message),\n                    role: role,\n                    type: \"component\",\n                    index: [i, index]\n                };\n            }\n            return {\n                role: role,\n                content: message,\n                type: \"component\",\n                index: [i, index]\n            };\n        });\n    });\n    return msg.filter((message) => message != null);\n}\nexport function is_component_message(message) {\n    return message.type === \"component\";\n}\nexport function is_last_bot_message(messages, all_messages) {\n    const is_bot = messages[messages.length - 1].role === \"assistant\";\n    const last_index = messages[messages.length - 1].index;\n    // use JSON.stringify to handle both the number and tuple cases\n    // when msg_format is tuples, last_index is an array and when it is messages, it is a number\n    const is_last = JSON.stringify(last_index) ===\n        JSON.stringify(all_messages[all_messages.length - 1].index);\n    return is_last && is_bot;\n}\nexport function group_messages(messages, msg_format) {\n    const groupedMessages = [];\n    let currentGroup = [];\n    let currentRole = null;\n    for (const message of messages) {\n        if (msg_format === \"tuples\") {\n            currentRole = null;\n        }\n        if (!(message.role === \"assistant\" || message.role === \"user\")) {\n            continue;\n        }\n        if (message.role === currentRole) {\n            currentGroup.push(message);\n        }\n        else {\n            if (currentGroup.length > 0) {\n                groupedMessages.push(currentGroup);\n            }\n            currentGroup = [message];\n            currentRole = message.role;\n        }\n    }\n    if (currentGroup.length > 0) {\n        groupedMessages.push(currentGroup);\n    }\n    return groupedMessages;\n}\nexport async function load_components(component_names, _components, load_component) {\n    let names = [];\n    let components = [];\n    component_names.forEach((component_name) => {\n        if (_components[component_name] || component_name === \"file\") {\n            return;\n        }\n        const { name, component } = load_component(component_name, \"base\");\n        names.push(name);\n        components.push(component);\n        component_name;\n    });\n    const loaded_components = await Promise.all(components);\n    loaded_components.forEach((component, i) => {\n        _components[names[i]] = component.default;\n    });\n    return _components;\n}\nexport function get_components_from_messages(messages) {\n    if (!messages)\n        return [];\n    let components = new Set();\n    messages.forEach((message) => {\n        if (message.type === \"component\") {\n            components.add(message.content.component);\n        }\n    });\n    return Array.from(components);\n}\n","<script>export let type;\nexport let components;\nexport let value;\nexport let target;\nexport let theme_mode;\nexport let props;\nexport let i18n;\nexport let upload;\nexport let _fetch;\n</script>\n\n{#if type === \"gallery\"}\n\t<svelte:component\n\t\tthis={components[type]}\n\t\t{value}\n\t\tshow_label={false}\n\t\t{i18n}\n\t\tlabel=\"\"\n\t\t{_fetch}\n\t\tallow_preview={false}\n\t\tinteractive={false}\n\t\tmode=\"minimal\"\n\t\tfixed_height={1}\n\t\ton:load\n\t/>\n{:else if type === \"plot\"}\n\t<svelte:component\n\t\tthis={components[type]}\n\t\t{value}\n\t\t{target}\n\t\t{theme_mode}\n\t\tbokeh_version={props.bokeh_version}\n\t\tcaption=\"\"\n\t\tshow_actions_button={true}\n\t\ton:load\n\t/>\n{:else if type === \"audio\"}\n\t<svelte:component\n\t\tthis={components[type]}\n\t\t{value}\n\t\tshow_label={false}\n\t\tshow_share_button={true}\n\t\t{i18n}\n\t\tlabel=\"\"\n\t\twaveform_settings={{}}\n\t\twaveform_options={{}}\n\t\tshow_download_button={false}\n\t\ton:load\n\t/>\n{:else if type === \"video\"}\n\t<svelte:component\n\t\tthis={components[type]}\n\t\tautoplay={true}\n\t\tvalue={value.video || value}\n\t\tshow_label={false}\n\t\tshow_share_button={true}\n\t\t{i18n}\n\t\t{upload}\n\t\tshow_download_button={false}\n\t\ton:load\n\t>\n\t\t<track kind=\"captions\" />\n\t</svelte:component>\n{:else if type === \"image\"}\n\t<svelte:component\n\t\tthis={components[type]}\n\t\t{value}\n\t\tshow_label={false}\n\t\tlabel=\"chatbot-image\"\n\t\tshow_download_button={false}\n\t\ton:load\n\t\t{i18n}\n\t/>\n{:else if type === \"html\"}\n\t<svelte:component\n\t\tthis={components[type]}\n\t\t{value}\n\t\tshow_label={false}\n\t\tlabel=\"chatbot-image\"\n\t\tshow_share_button={true}\n\t\t{i18n}\n\t\tgradio={{ dispatch: () => {} }}\n\t\ton:load\n\t/>\n{/if}\n","<script>export let expanded = false;\nexport let title;\nfunction toggleExpanded() {\n  expanded = !expanded;\n}\n</script>\n\n<button class=\"box\" on:click={toggleExpanded}>\n\t<div class=\"title\">\n\t\t<span class=\"title-text\">{title}</span>\n\t\t<span\n\t\t\tstyle:transform={expanded ? \"rotate(0)\" : \"rotate(90deg)\"}\n\t\t\tclass=\"arrow\"\n\t\t>\n\t\t\tâ–¼\n\t\t</span>\n\t</div>\n\t{#if expanded}\n\t\t<div class=\"content\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t{/if}\n</button>\n\n<style>\n\t.box {\n\t\tborder-radius: 4px;\n\t\tcursor: pointer;\n\t\tmax-width: max-content;\n\t\tbackground: var(--color-accent-soft);\n\t\tborder: 1px solid var(--border-color-accent-subdued);\n\t\tfont-size: 0.8em;\n\t}\n\n\t.title {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 3px 6px;\n\t\tcolor: var(--body-text-color);\n\t\topacity: 0.8;\n\t}\n\n\t.content {\n\t\tpadding: 4px 8px;\n\t}\n\n\t.content :global(*) {\n\t\tfont-size: 0.8em;\n\t}\n\n\t.title-text {\n\t\tpadding-right: var(--spacing-lg);\n\t}\n\n\t.arrow {\n\t\tmargin-left: auto;\n\t\topacity: 0.8;\n\t}\n</style>\n","<svg\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 12 12\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\td=\"M11.25 6.61523H9.375V1.36523H11.25V6.61523ZM3.375 1.36523H8.625V6.91636L7.48425 8.62748L7.16737 10.8464C7.14108 11.0248 7.05166 11.1879 6.91535 11.3061C6.77904 11.4242 6.60488 11.4896 6.4245 11.4902H6.375C6.07672 11.4899 5.79075 11.3713 5.57983 11.1604C5.36892 10.9495 5.2503 10.6635 5.25 10.3652V8.11523H2.25C1.85233 8.11474 1.47109 7.95654 1.18989 7.67535C0.908691 7.39415 0.750496 7.01291 0.75 6.61523V3.99023C0.750992 3.29435 1.02787 2.62724 1.51994 2.13517C2.01201 1.64311 2.67911 1.36623 3.375 1.36523Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg>\n","<svg\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 12 12\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\td=\"M2.25 8.11523H4.5V10.3652C4.5003 10.6635 4.61892 10.9495 4.82983 11.1604C5.04075 11.3713 5.32672 11.4899 5.625 11.4902H6.42488C6.60519 11.4895 6.77926 11.4241 6.91549 11.3059C7.05172 11.1878 7.14109 11.0248 7.16737 10.8464L7.48425 8.62748L8.82562 6.61523H11.25V1.36523H3.375C2.67911 1.36623 2.01201 1.64311 1.51994 2.13517C1.02787 2.62724 0.750992 3.29435 0.75 3.99023V6.61523C0.750496 7.01291 0.908691 7.39415 1.18989 7.67535C1.47109 7.95654 1.85233 8.11474 2.25 8.11523ZM9 2.11523H10.5V5.86523H9V2.11523ZM1.5 3.99023C1.5006 3.49314 1.69833 3.01657 2.04983 2.66507C2.40133 2.31356 2.8779 2.11583 3.375 2.11523H8.25V6.12661L6.76575 8.35298L6.4245 10.7402H5.625C5.52554 10.7402 5.43016 10.7007 5.35983 10.6304C5.28951 10.5601 5.25 10.4647 5.25 10.3652V7.36523H2.25C2.05118 7.36494 1.86059 7.28582 1.72 7.14524C1.57941 7.00465 1.5003 6.81406 1.5 6.61523V3.99023Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg>\n","<svg\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 12 12\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\td=\"M0.75 6.24023H2.625V11.4902H0.75V6.24023ZM8.625 11.4902H3.375V5.93911L4.51575 4.22798L4.83263 2.00911C4.85892 1.83065 4.94834 1.66754 5.08465 1.5494C5.22096 1.43125 5.39512 1.36591 5.5755 1.36523H5.625C5.92328 1.36553 6.20925 1.48415 6.42017 1.69507C6.63108 1.90598 6.7497 2.19196 6.75 2.49023V4.74023H9.75C10.1477 4.74073 10.5289 4.89893 10.8101 5.18012C11.0913 5.46132 11.2495 5.84256 11.25 6.24023V8.86523C11.249 9.56112 10.9721 10.2282 10.4801 10.7203C9.98799 11.2124 9.32089 11.4892 8.625 11.4902Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg>\n","<svg\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 12 12\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\td=\"M9.75 4.74023H7.5V2.49023C7.4997 2.19196 7.38108 1.90598 7.17017 1.69507C6.95925 1.48415 6.67328 1.36553 6.375 1.36523H5.57512C5.39481 1.366 5.22074 1.43138 5.08451 1.54952C4.94828 1.66766 4.85891 1.83072 4.83262 2.00911L4.51575 4.22798L3.17438 6.24023H0.75V11.4902H8.625C9.32089 11.4892 9.98799 11.2124 10.4801 10.7203C10.9721 10.2282 11.249 9.56112 11.25 8.86523V6.24023C11.2495 5.84256 11.0913 5.46132 10.8101 5.18012C10.5289 4.89893 10.1477 4.74073 9.75 4.74023ZM3 10.7402H1.5V6.99023H3V10.7402ZM10.5 8.86523C10.4994 9.36233 10.3017 9.8389 9.95017 10.1904C9.59867 10.5419 9.1221 10.7396 8.625 10.7402H3.75V6.72886L5.23425 4.50248L5.5755 2.11523H6.375C6.47446 2.11523 6.56984 2.15474 6.64017 2.22507C6.71049 2.2954 6.75 2.39078 6.75 2.49023V5.49023H9.75C9.94882 5.49053 10.1394 5.56965 10.28 5.71023C10.4206 5.85082 10.4997 6.04141 10.5 6.24023V8.86523Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg>\n","<script>import { IconButton } from \"@gradio/atoms\";\nimport ThumbDownActive from \"./ThumbDownActive.svelte\";\nimport ThumbDownDefault from \"./ThumbDownDefault.svelte\";\nimport ThumbUpActive from \"./ThumbUpActive.svelte\";\nimport ThumbUpDefault from \"./ThumbUpDefault.svelte\";\nexport let handle_action;\nlet selected = null;\n</script>\n\n<IconButton\n\tIcon={selected === \"dislike\" ? ThumbDownActive : ThumbDownDefault}\n\tlabel={selected === \"dislike\" ? \"clicked dislike\" : \"dislike\"}\n\tcolor={selected === \"dislike\"\n\t\t? \"var(--color-accent)\"\n\t\t: \"var(--block-label-text-color)\"}\n\ton:click={() => {\n\t\tselected = \"dislike\";\n\t\thandle_action(selected);\n\t}}\n/>\n\n<IconButton\n\tIcon={selected === \"like\" ? ThumbUpActive : ThumbUpDefault}\n\tlabel={selected === \"like\" ? \"clicked like\" : \"like\"}\n\tcolor={selected === \"like\"\n\t\t? \"var(--color-accent)\"\n\t\t: \"var(--block-label-text-color)\"}\n\ton:click={() => {\n\t\tselected = \"like\";\n\t\thandle_action(selected);\n\t}}\n/>\n","<script>import { onDestroy } from \"svelte\";\nimport { Copy, Check } from \"@gradio/icons\";\nimport { IconButton } from \"@gradio/atoms\";\nlet copied = false;\nexport let value;\nlet timer;\nfunction copy_feedback() {\n  copied = true;\n  if (timer)\n    clearTimeout(timer);\n  timer = setTimeout(() => {\n    copied = false;\n  }, 2e3);\n}\nasync function handle_copy() {\n  if (\"clipboard\" in navigator) {\n    await navigator.clipboard.writeText(value);\n    copy_feedback();\n  } else {\n    const textArea = document.createElement(\"textarea\");\n    textArea.value = value;\n    textArea.style.position = \"absolute\";\n    textArea.style.left = \"-999999px\";\n    document.body.prepend(textArea);\n    textArea.select();\n    try {\n      document.execCommand(\"copy\");\n      copy_feedback();\n    } catch (error) {\n      console.error(error);\n    } finally {\n      textArea.remove();\n    }\n  }\n}\nonDestroy(() => {\n  if (timer)\n    clearTimeout(timer);\n});\n</script>\n\n<IconButton\n\ton:click={handle_copy}\n\tlabel={copied ? \"Copied message\" : \"Copy message\"}\n\tIcon={copied ? Check : Copy}\n/>\n","<svg\n\twidth=\"16\"\n\theight=\"16\"\n\tviewBox=\"0 0 12 12\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\td=\"M6.27701 8.253C6.24187 8.29143 6.19912 8.32212 6.15147 8.34311C6.10383 8.36411 6.05233 8.37495 6.00026 8.37495C5.94819 8.37495 5.89669 8.36411 5.84905 8.34311C5.8014 8.32212 5.75865 8.29143 5.72351 8.253L3.72351 6.0655C3.65798 5.99185 3.62408 5.89536 3.62916 5.79691C3.63424 5.69846 3.67788 5.60596 3.75064 5.53945C3.8234 5.47293 3.91943 5.43774 4.01794 5.44149C4.11645 5.44525 4.20952 5.48764 4.27701 5.5595L5.62501 7.0345V1.5C5.62501 1.40054 5.66452 1.30516 5.73485 1.23483C5.80517 1.16451 5.90055 1.125 6.00001 1.125C6.09947 1.125 6.19485 1.16451 6.26517 1.23483C6.3355 1.30516 6.37501 1.40054 6.37501 1.5V7.034L7.72351 5.559C7.79068 5.4856 7.88425 5.44189 7.98364 5.43748C8.08304 5.43308 8.18011 5.46833 8.25351 5.5355C8.32691 5.60267 8.37062 5.69624 8.37503 5.79563C8.37943 5.89503 8.34418 5.9921 8.27701 6.0655L6.27701 8.253Z\"\n\t\tfill=\"currentColor\"\n\t/>\n\t<path\n\t\td=\"M1.875 7.39258C1.875 7.29312 1.83549 7.19774 1.76517 7.12741C1.69484 7.05709 1.59946 7.01758 1.5 7.01758C1.40054 7.01758 1.30516 7.05709 1.23483 7.12741C1.16451 7.19774 1.125 7.29312 1.125 7.39258V7.42008C1.125 8.10358 1.125 8.65508 1.1835 9.08858C1.2435 9.53858 1.3735 9.91758 1.674 10.2186C1.975 10.5196 2.354 10.6486 2.804 10.7096C3.2375 10.7676 3.789 10.7676 4.4725 10.7676H7.5275C8.211 10.7676 8.7625 10.7676 9.196 10.7096C9.646 10.6486 10.025 10.5196 10.326 10.2186C10.627 9.91758 10.756 9.53858 10.817 9.08858C10.875 8.65508 10.875 8.10358 10.875 7.42008V7.39258C10.875 7.29312 10.8355 7.19774 10.7652 7.12741C10.6948 7.05709 10.5995 7.01758 10.5 7.01758C10.4005 7.01758 10.3052 7.05709 10.2348 7.12741C10.1645 7.19774 10.125 7.29312 10.125 7.39258C10.125 8.11008 10.124 8.61058 10.0735 8.98858C10.024 9.35558 9.9335 9.54958 9.7955 9.68808C9.657 9.82658 9.463 9.91658 9.0955 9.96608C8.718 10.0166 8.2175 10.0176 7.5 10.0176H4.5C3.7825 10.0176 3.2815 10.0166 2.904 9.96608C2.537 9.91658 2.343 9.82608 2.2045 9.68808C2.066 9.54958 1.976 9.35558 1.9265 8.98808C1.876 8.61058 1.875 8.11008 1.875 7.39258Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg>\n","<script>import LikeDislike from \"./LikeDislike.svelte\";\nimport Copy from \"./Copy.svelte\";\nimport DownloadIcon from \"./Download.svelte\";\nimport { DownloadLink } from \"@gradio/wasm/svelte\";\nimport { is_component_message } from \"./utils\";\nimport { Retry, Undo } from \"@gradio/icons\";\nimport { IconButtonWrapper, IconButton } from \"@gradio/atoms\";\nexport let likeable;\nexport let show_retry;\nexport let show_undo;\nexport let show_copy_button;\nexport let show;\nexport let message;\nexport let position;\nexport let avatar;\nexport let generating;\nexport let handle_action;\nexport let layout;\nfunction is_all_text(message2) {\n  return Array.isArray(message2) && message2.every((m) => typeof m.content === \"string\") || !Array.isArray(message2) && typeof message2.content === \"string\";\n}\nfunction all_text(message2) {\n  if (Array.isArray(message2)) {\n    return message2.map((m) => m.content).join(\"\\n\");\n  }\n  return message2.content;\n}\n$:\n  message_text = is_all_text(message) ? all_text(message) : \"\";\n$:\n  show_copy = show_copy_button && message && is_all_text(message);\n$:\n  show_download = !Array.isArray(message) && is_component_message(message) && message.content.value?.url;\n</script>\n\n{#if show}\n\t<div\n\t\tclass=\"message-buttons-{position} {layout} message-buttons {avatar !==\n\t\t\tnull && 'with-avatar'}\"\n\t>\n\t\t<IconButtonWrapper top_panel={false}>\n\t\t\t{#if show_copy}\n\t\t\t\t<Copy value={message_text} />\n\t\t\t{/if}\n\t\t\t{#if show_download && !Array.isArray(message) && is_component_message(message)}\n\t\t\t\t<DownloadLink\n\t\t\t\t\thref={message?.content?.value.url}\n\t\t\t\t\tdownload={message.content.value.orig_name || \"image\"}\n\t\t\t\t>\n\t\t\t\t\t<IconButton Icon={DownloadIcon} />\n\t\t\t\t</DownloadLink>\n\t\t\t{/if}\n\t\t\t{#if show_retry}\n\t\t\t\t<IconButton\n\t\t\t\t\tIcon={Retry}\n\t\t\t\t\tlabel=\"Retry\"\n\t\t\t\t\ton:click={() => handle_action(\"retry\")}\n\t\t\t\t\tdisabled={generating}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t\t{#if show_undo}\n\t\t\t\t<IconButton\n\t\t\t\t\tlabel=\"Undo\"\n\t\t\t\t\tIcon={Undo}\n\t\t\t\t\ton:click={() => handle_action(\"undo\")}\n\t\t\t\t\tdisabled={generating}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t\t{#if likeable}\n\t\t\t\t<LikeDislike {handle_action} />\n\t\t\t{/if}\n\t\t</IconButtonWrapper>\n\t</div>\n{/if}\n\n<style>\n\t.bubble :global(.icon-button-wrapper) {\n\t\tmargin: 0px calc(var(--spacing-xl) * 2);\n\t}\n\n\t.message-buttons-left {\n\t\talign-self: flex-start;\n\t}\n\n\t.bubble.message-buttons-right {\n\t\talign-self: flex-end;\n\t}\n\n\t.message-buttons-right :global(.icon-button-wrapper) {\n\t\tmargin-left: auto;\n\t}\n\n\t.bubble.with-avatar {\n\t\tmargin-left: calc(var(--spacing-xl) * 5);\n\t\tmargin-right: calc(var(--spacing-xl) * 5);\n\t}\n\n\t.panel {\n\t\tdisplay: flex;\n\t\talign-self: flex-start;\n\t\tpadding: 0 var(--spacing-xl);\n\t\tz-index: var(--layer-1);\n\t}\n</style>\n","<script>import { is_component_message, is_last_bot_message } from \"../shared/utils\";\nimport { Image } from \"@gradio/image/shared\";\nimport Component from \"./Component.svelte\";\nimport MessageBox from \"./MessageBox.svelte\";\nimport { MarkdownCode as Markdown } from \"@gradio/markdown-code\";\nimport ButtonPanel from \"./ButtonPanel.svelte\";\nexport let value;\nexport let avatar_img;\nexport let opposite_avatar_img = null;\nexport let role = \"user\";\nexport let messages = [];\nexport let layout;\nexport let bubble_full_width;\nexport let render_markdown;\nexport let latex_delimiters;\nexport let sanitize_html;\nexport let selectable;\nexport let _fetch;\nexport let rtl;\nexport let dispatch;\nexport let i18n;\nexport let line_breaks;\nexport let upload;\nexport let target;\nexport let root;\nexport let theme_mode;\nexport let _components;\nexport let i;\nexport let show_copy_button;\nexport let generating;\nexport let show_like;\nexport let show_retry;\nexport let show_undo;\nexport let msg_format;\nexport let handle_action;\nexport let scroll;\nfunction handle_select(i2, message) {\n  dispatch(\"select\", {\n    index: message.index,\n    value: message.content\n  });\n}\nfunction get_message_label_data(message) {\n  if (message.type === \"text\") {\n    return message.content;\n  } else if (message.type === \"component\" && message.content.component === \"file\") {\n    if (Array.isArray(message.content.value)) {\n      return `file of extension type: ${message.content.value[0].orig_name?.split(\".\").pop()}`;\n    }\n    return `file of extension type: ${message.content.value?.orig_name?.split(\".\").pop()}` + (message.content.value?.orig_name ?? \"\");\n  }\n  return `a component of type ${message.content.component ?? \"unknown\"}`;\n}\nlet button_panel_props;\n$:\n  button_panel_props = {\n    show: show_like || show_retry || show_undo || show_copy_button,\n    handle_action,\n    likeable: show_like,\n    show_retry,\n    show_undo,\n    generating,\n    show_copy_button,\n    message: msg_format === \"tuples\" ? messages[0] : messages,\n    position: role === \"user\" ? \"right\" : \"left\",\n    avatar: avatar_img,\n    layout\n  };\n</script>\n\n<div\n\tclass=\"message-row {layout} {role}-row\"\n\tclass:with_avatar={avatar_img !== null}\n\tclass:with_opposite_avatar={opposite_avatar_img !== null}\n>\n\t{#if avatar_img !== null}\n\t\t<div class=\"avatar-container\">\n\t\t\t<Image class=\"avatar-image\" src={avatar_img?.url} alt=\"{role} avatar\" />\n\t\t</div>\n\t{/if}\n\t<div\n\t\tclass:role\n\t\tclass=\"flex-wrap\"\n\t\tclass:component-wrap={messages[0].type === \"component\"}\n\t>\n\t\t{#each messages as message, thought_index}\n\t\t\t<div\n\t\t\t\tclass=\"message {role} {is_component_message(message)\n\t\t\t\t\t? message?.content.component\n\t\t\t\t\t: ''}\"\n\t\t\t\tclass:message-fit={layout === \"bubble\" && !bubble_full_width}\n\t\t\t\tclass:panel-full-width={true}\n\t\t\t\tclass:message-markdown-disabled={!render_markdown}\n\t\t\t\tstyle:text-align={rtl && role === \"user\" ? \"left\" : \"right\"}\n\t\t\t\tclass:component={message.type === \"component\"}\n\t\t\t\tclass:html={is_component_message(message) &&\n\t\t\t\t\tmessage.content.component === \"html\"}\n\t\t\t\tclass:thought={thought_index > 0}\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tdata-testid={role}\n\t\t\t\t\tclass:latest={i === value.length - 1}\n\t\t\t\t\tclass:message-markdown-disabled={!render_markdown}\n\t\t\t\t\tstyle:user-select=\"text\"\n\t\t\t\t\tclass:selectable\n\t\t\t\t\tstyle:cursor={selectable ? \"pointer\" : \"default\"}\n\t\t\t\t\tstyle:text-align={rtl ? \"right\" : \"left\"}\n\t\t\t\t\ton:click={() => handle_select(i, message)}\n\t\t\t\t\ton:keydown={(e) => {\n\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\thandle_select(i, message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tdir={rtl ? \"rtl\" : \"ltr\"}\n\t\t\t\t\taria-label={role + \"'s message: \" + get_message_label_data(message)}\n\t\t\t\t>\n\t\t\t\t\t{#if message.type === \"text\"}\n\t\t\t\t\t\t{#if message.metadata.title}\n\t\t\t\t\t\t\t<MessageBox\n\t\t\t\t\t\t\t\ttitle={message.metadata.title}\n\t\t\t\t\t\t\t\texpanded={is_last_bot_message(messages, value)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Markdown\n\t\t\t\t\t\t\t\t\tmessage={message.content}\n\t\t\t\t\t\t\t\t\t{latex_delimiters}\n\t\t\t\t\t\t\t\t\t{sanitize_html}\n\t\t\t\t\t\t\t\t\t{render_markdown}\n\t\t\t\t\t\t\t\t\t{line_breaks}\n\t\t\t\t\t\t\t\t\ton:load={scroll}\n\t\t\t\t\t\t\t\t\t{root}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MessageBox>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<Markdown\n\t\t\t\t\t\t\t\tmessage={message.content}\n\t\t\t\t\t\t\t\t{latex_delimiters}\n\t\t\t\t\t\t\t\t{sanitize_html}\n\t\t\t\t\t\t\t\t{render_markdown}\n\t\t\t\t\t\t\t\t{line_breaks}\n\t\t\t\t\t\t\t\ton:load={scroll}\n\t\t\t\t\t\t\t\t{root}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{:else if message.type === \"component\" && message.content.component in _components}\n\t\t\t\t\t\t<Component\n\t\t\t\t\t\t\t{target}\n\t\t\t\t\t\t\t{theme_mode}\n\t\t\t\t\t\t\tprops={message.content.props}\n\t\t\t\t\t\t\ttype={message.content.component}\n\t\t\t\t\t\t\tcomponents={_components}\n\t\t\t\t\t\t\tvalue={message.content.value}\n\t\t\t\t\t\t\t{i18n}\n\t\t\t\t\t\t\t{upload}\n\t\t\t\t\t\t\t{_fetch}\n\t\t\t\t\t\t\ton:load={() => scroll()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else if message.type === \"component\" && message.content.component === \"file\"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tdata-testid=\"chatbot-file\"\n\t\t\t\t\t\t\tclass=\"file-pil\"\n\t\t\t\t\t\t\thref={message.content.value.url}\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\tdownload={window.__is_colab__\n\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t: message.content.value?.orig_name ||\n\t\t\t\t\t\t\t\t\tmessage.content.value?.path.split(\"/\").pop() ||\n\t\t\t\t\t\t\t\t\t\"file\"}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{message.content.value?.orig_name ||\n\t\t\t\t\t\t\t\tmessage.content.value?.path.split(\"/\").pop() ||\n\t\t\t\t\t\t\t\t\"file\"}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{#if layout === \"panel\"}\n\t\t\t\t<ButtonPanel {...button_panel_props} />\n\t\t\t{/if}\n\t\t{/each}\n\t</div>\n</div>\n\n{#if layout === \"bubble\"}\n\t<ButtonPanel {...button_panel_props} />\n{/if}\n\n<style>\n\t.message {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t}\n\n\t/* avatar styles */\n\t.avatar-container {\n\t\tflex-shrink: 0;\n\t\twidth: 35px;\n\t\theight: 35px;\n\t\tborder-radius: 50%;\n\t\tborder: 1px solid var(--border-color-primary);\n\t\toverflow: hidden;\n\t}\n\n\t.avatar-container :global(img) {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: cover;\n\t\tpadding: 6px;\n\t}\n\n\t/* message wrapper */\n\t.flex-wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\twidth: calc(100% - var(--spacing-xxl));\n\t\tmax-width: 100%;\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--chatbot-text-size);\n\t\toverflow-wrap: break-word;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.component {\n\t\tpadding: 0;\n\t\tborder-radius: var(--radius-md);\n\t\twidth: fit-content;\n\t\toverflow: hidden;\n\t}\n\n\t.component.gallery {\n\t\tborder: none;\n\t}\n\n\t.message-row :global(img) {\n\t\tmargin: var(--size-2);\n\t\tmax-height: 300px;\n\t}\n\n\t.file-pil {\n\t\tdisplay: block;\n\t\twidth: fit-content;\n\t\tpadding: var(--spacing-sm) var(--spacing-lg);\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--background-fill-secondary);\n\t\tcolor: var(--body-text-color);\n\t\ttext-decoration: none;\n\t\tmargin: 0;\n\t\tfont-family: var(--font-mono);\n\t\tfont-size: var(--text-sm);\n\t}\n\n\t.file {\n\t\twidth: auto !important;\n\t\tmax-width: fit-content !important;\n\t}\n\n\t@media (max-width: 600px) or (max-width: 480px) {\n\t\t.component {\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t.message :global(.prose) {\n\t\tfont-size: var(--chatbot-text-size);\n\t}\n\n\t.message-bubble-border {\n\t\tborder-width: 1px;\n\t\tborder-radius: var(--radius-md);\n\t}\n\n\t.message-fit {\n\t\twidth: fit-content !important;\n\t}\n\n\t.panel-full-width {\n\t\twidth: 100%;\n\t}\n\t.message-markdown-disabled {\n\t\twhite-space: pre-line;\n\t}\n\n\t.user {\n\t\tborder-width: 1px;\n\t\tborder-radius: var(--radius-md);\n\t\talign-self: flex-start;\n\t\tborder-bottom-right-radius: 0;\n\t\tbox-shadow: var(--shadow-drop);\n\t\talign-self: flex-start;\n\t\ttext-align: right;\n\t\tpadding: var(--spacing-sm) var(--spacing-xl);\n\t\tborder-color: var(--border-color-accent-subdued);\n\t\tbackground-color: var(--color-accent-soft);\n\t}\n\n\t.bot {\n\t\tborder-width: 1px;\n\t\tborder-radius: var(--radius-lg);\n\t\tborder-bottom-left-radius: 0;\n\t\tborder-color: var(--border-color-primary);\n\t\tbackground-color: var(--background-fill-secondary);\n\t\tbox-shadow: var(--shadow-drop);\n\t\talign-self: flex-start;\n\t\ttext-align: right;\n\t\tpadding: var(--spacing-sm) var(--spacing-xl);\n\t}\n\n\t.panel .user :global(*) {\n\t\ttext-align: right;\n\t}\n\n\t/* Colors */\n\t.bubble .bot {\n\t\tborder-color: var(--border-color-primary);\n\t}\n\n\t.message-row {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t/* bubble mode styles */\n\t.bubble {\n\t\tmargin: calc(var(--spacing-xl) * 2);\n\t\tmargin-bottom: var(--spacing-xl);\n\t}\n\n\t.bubble.user-row {\n\t\talign-self: flex-end;\n\t\tmax-width: calc(100% - var(--spacing-xl) * 6);\n\t}\n\n\t.bubble.bot-row {\n\t\talign-self: flex-start;\n\t\tmax-width: calc(100% - var(--spacing-xl) * 6);\n\t}\n\n\t.bubble .user-row {\n\t\tflex-direction: row;\n\t\tjustify-content: flex-end;\n\t}\n\n\t.bubble .with_avatar.user-row {\n\t\tmargin-right: calc(var(--spacing-xl) * 2) !important;\n\t}\n\n\t.bubble .with_avatar.bot-row {\n\t\tmargin-left: calc(var(--spacing-xl) * 2) !important;\n\t}\n\n\t.bubble .with_opposite_avatar.user-row {\n\t\tmargin-left: calc(var(--spacing-xxl) + 35px + var(--spacing-xxl));\n\t}\n\n\t.bubble .message-fit {\n\t\twidth: fit-content !important;\n\t}\n\n\t/* panel mode styles */\n\t.panel {\n\t\tmargin: 0;\n\t\tpadding: calc(var(--spacing-lg) * 2) calc(var(--spacing-lg) * 2);\n\t}\n\n\t.panel.bot-row {\n\t\tbackground: var(--background-fill-secondary);\n\t}\n\n\t.panel .with_avatar {\n\t\tpadding-left: calc(var(--spacing-xl) * 2) !important;\n\t\tpadding-right: calc(var(--spacing-xl) * 2) !important;\n\t}\n\n\t.panel .panel-full-width {\n\t\twidth: 100%;\n\t}\n\n\t.panel .user :global(*) {\n\t\ttext-align: right;\n\t}\n\n\t/* message content */\n\t.flex-wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmax-width: 100%;\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--chatbot-text-size);\n\t\toverflow-wrap: break-word;\n\t}\n\n\t.user {\n\t\tborder-width: 1px;\n\t\tborder-radius: var(--radius-md);\n\t\talign-self: flex-start;\n\t\tborder-bottom-right-radius: 0;\n\t\tbox-shadow: var(--shadow-drop);\n\t\ttext-align: right;\n\t\tpadding: var(--spacing-sm) var(--spacing-xl);\n\t\tborder-color: var(--border-color-accent-subdued);\n\t\tbackground-color: var(--color-accent-soft);\n\t}\n\t@media (max-width: 480px) {\n\t\t.user-row.bubble {\n\t\t\talign-self: flex-end;\n\t\t}\n\n\t\t.bot-row.bubble {\n\t\t\talign-self: flex-start;\n\t\t}\n\t\t.message {\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t.avatar-container {\n\t\talign-self: flex-start;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-start;\n\t\talign-items: flex-start;\n\t\twidth: 35px;\n\t\theight: 35px;\n\t\tflex-shrink: 0;\n\t\tbottom: 0;\n\t\tborder-radius: 50%;\n\t\tborder: 1px solid var(--border-color-primary);\n\t}\n\t.user-row > .avatar-container {\n\t\torder: 2;\n\t}\n\n\t.user-row.bubble > .avatar-container {\n\t\tmargin-left: var(--spacing-xxl);\n\t}\n\n\t.bot-row.bubble > .avatar-container {\n\t\tmargin-left: var(--spacing-xxl);\n\t}\n\n\t.panel.user-row > .avatar-container {\n\t\torder: 0;\n\t}\n\n\t.bot-row.bubble > .avatar-container {\n\t\tmargin-right: var(--spacing-xxl);\n\t\tmargin-left: 0;\n\t}\n\n\t.avatar-container:not(.thumbnail-item) :global(img) {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: cover;\n\t\tborder-radius: 50%;\n\t\tpadding: 6px;\n\t}\n\n\t.selectable {\n\t\tcursor: pointer;\n\t}\n\n\t@keyframes dot-flashing {\n\t\t0% {\n\t\t\topacity: 0.8;\n\t\t}\n\t\t50% {\n\t\t\topacity: 0.5;\n\t\t}\n\t\t100% {\n\t\t\topacity: 0.8;\n\t\t}\n\t}\n\n\t/* Image preview */\n\t.message :global(.preview) {\n\t\tobject-fit: contain;\n\t\twidth: 95%;\n\t\tmax-height: 93%;\n\t}\n\t.image-preview {\n\t\tposition: absolute;\n\t\tz-index: 999;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: auto;\n\t\tbackground-color: rgba(0, 0, 0, 0.9);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n\t.image-preview :global(svg) {\n\t\tstroke: white;\n\t}\n\t.image-preview-close-button {\n\t\tposition: absolute;\n\t\ttop: 10px;\n\t\tright: 10px;\n\t\tbackground: none;\n\t\tborder: none;\n\t\tfont-size: 1.5em;\n\t\tcursor: pointer;\n\t\theight: 30px;\n\t\twidth: 30px;\n\t\tpadding: 3px;\n\t\tbackground: var(--bg-color);\n\t\tbox-shadow: var(--shadow-drop);\n\t\tborder: 1px solid var(--button-secondary-border-color);\n\t\tborder-radius: var(--radius-lg);\n\t}\n\n\t.message > button {\n\t\twidth: 100%;\n\t}\n\t.html {\n\t\tpadding: 0;\n\t\tborder: none;\n\t\tbackground: none;\n\t}\n\n\t.thought {\n\t\tmargin-top: var(--spacing-xxl);\n\t}\n\n\t.panel .bot,\n\t.panel .user {\n\t\tborder: none;\n\t\tbox-shadow: none;\n\t\tbackground-color: var(--background-fill-secondary);\n\t}\n\n\t.panel.user-row {\n\t\tbackground-color: var(--color-accent-soft);\n\t}\n\n\t.panel .user-row,\n\t.panel .bot-row {\n\t\talign-self: flex-start;\n\t}\n\n\t.panel .user :global(*),\n\t.panel .bot :global(*) {\n\t\ttext-align: left;\n\t}\n\n\t.panel .user {\n\t\tbackground-color: var(--color-accent-soft);\n\t}\n\n\t.panel .user-row {\n\t\tbackground-color: var(--color-accent-soft);\n\t\talign-self: flex-start;\n\t}\n\n\t.panel .message {\n\t\tmargin-bottom: var(--spacing-md);\n\t}\n</style>\n","<script>export let layout = \"bubble\";\n</script>\n\n<div\n\tclass=\"message pending\"\n\trole=\"status\"\n\taria-label=\"Loading response\"\n\taria-live=\"polite\"\n\tstyle:border-radius={layout === \"bubble\" ? \"var(--radius-xxl)\" : \"none\"}\n>\n\t<span class=\"sr-only\">Loading content</span>\n\t<div class=\"dot-flashing\" />\n\t&nbsp;\n\t<div class=\"dot-flashing\" />\n\t&nbsp;\n\t<div class=\"dot-flashing\" />\n</div>\n\n<style>\n\t.pending {\n\t\tbackground: var(--color-accent-soft);\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\talign-self: center;\n\t\tgap: 2px;\n\t\twidth: 100%;\n\t\theight: var(--size-16);\n\t}\n\t.dot-flashing {\n\t\tanimation: flash 1s infinite ease-in-out;\n\t\tborder-radius: 5px;\n\t\tbackground-color: var(--body-text-color);\n\t\twidth: 7px;\n\t\theight: 7px;\n\t\tcolor: var(--body-text-color);\n\t}\n\t@keyframes flash {\n\t\t0%,\n\t\t100% {\n\t\t\topacity: 0;\n\t\t}\n\t\t50% {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t.dot-flashing:nth-child(1) {\n\t\tanimation-delay: 0s;\n\t}\n\n\t.dot-flashing:nth-child(2) {\n\t\tanimation-delay: 0.33s;\n\t}\n\t.dot-flashing:nth-child(3) {\n\t\tanimation-delay: 0.66s;\n\t}\n</style>\n","<script>import { onDestroy } from \"svelte\";\nimport { Copy, Check } from \"@gradio/icons\";\nimport { IconButton } from \"@gradio/atoms\";\nlet copied = false;\nexport let value;\nlet timer;\nfunction copy_feedback() {\n  copied = true;\n  if (timer)\n    clearTimeout(timer);\n  timer = setTimeout(() => {\n    copied = false;\n  }, 1e3);\n}\nconst copy_conversation = () => {\n  if (value) {\n    const conversation_value = value.map((message) => {\n      if (message.type === \"text\") {\n        return `${message.role}: ${message.content}`;\n      }\n      return `${message.role}: ${message.content.value.url}`;\n    }).join(\"\\n\\n\");\n    navigator.clipboard.writeText(conversation_value).catch((err) => {\n      console.error(\"Failed to copy conversation: \", err);\n    });\n  }\n};\nasync function handle_copy() {\n  if (\"clipboard\" in navigator) {\n    copy_conversation();\n    copy_feedback();\n  }\n}\nonDestroy(() => {\n  if (timer)\n    clearTimeout(timer);\n});\n</script>\n\n<IconButton\n\tIcon={copied ? Check : Copy}\n\ton:click={handle_copy}\n\tlabel={copied ? \"Copied conversation\" : \"Copy conversation\"}\n></IconButton>\n","<script>import {\n  format_chat_for_sharing,\n  is_last_bot_message,\n  group_messages,\n  load_components,\n  get_components_from_messages\n} from \"./utils\";\nimport { copy } from \"@gradio/utils\";\nimport Message from \"./Message.svelte\";\nimport { dequal } from \"dequal/lite\";\nimport {\n  afterUpdate,\n  createEventDispatcher,\n  tick,\n  onMount\n} from \"svelte\";\nimport { Image } from \"@gradio/image/shared\";\nimport { Clear, Trash, Community, ScrollDownArrow } from \"@gradio/icons\";\nimport { IconButtonWrapper, IconButton } from \"@gradio/atoms\";\nimport { MarkdownCode as Markdown } from \"@gradio/markdown-code\";\nimport Pending from \"./Pending.svelte\";\nimport { ShareError } from \"@gradio/utils\";\nimport { Gradio } from \"@gradio/utils\";\nexport let value = [];\nlet old_value = null;\nimport CopyAll from \"./CopyAll.svelte\";\nexport let _fetch;\nexport let load_component;\nlet _components = {};\nconst is_browser = typeof window !== \"undefined\";\nasync function update_components() {\n  _components = await load_components(\n    get_components_from_messages(value),\n    _components,\n    load_component\n  );\n}\n$:\n  value, update_components();\nexport let latex_delimiters;\nexport let pending_message = false;\nexport let generating = false;\nexport let selectable = false;\nexport let likeable = false;\nexport let show_share_button = false;\nexport let show_copy_all_button = false;\nexport let rtl = false;\nexport let show_copy_button = false;\nexport let avatar_images = [null, null];\nexport let sanitize_html = true;\nexport let bubble_full_width = true;\nexport let render_markdown = true;\nexport let line_breaks = true;\nexport let autoscroll = true;\nexport let theme_mode;\nexport let i18n;\nexport let layout = \"bubble\";\nexport let placeholder = null;\nexport let upload;\nexport let msg_format = \"tuples\";\nexport let examples = null;\nexport let _retryable = false;\nexport let _undoable = false;\nexport let like_user_message = false;\nexport let root;\nlet target = null;\nonMount(() => {\n  target = document.querySelector(\"div.gradio-container\");\n});\nlet div;\nlet show_scroll_button = false;\nconst dispatch = createEventDispatcher();\nfunction is_at_bottom() {\n  return div && div.offsetHeight + div.scrollTop > div.scrollHeight - 100;\n}\nfunction scroll_to_bottom() {\n  if (!div)\n    return;\n  div.scrollTo(0, div.scrollHeight);\n  show_scroll_button = false;\n}\nlet scroll_after_component_load = false;\nfunction on_child_component_load() {\n  if (scroll_after_component_load) {\n    scroll_to_bottom();\n    scroll_after_component_load = false;\n  }\n}\nasync function scroll_on_value_update() {\n  if (!autoscroll)\n    return;\n  if (is_at_bottom()) {\n    scroll_after_component_load = true;\n    await tick();\n    scroll_to_bottom();\n  } else {\n    show_scroll_button = true;\n  }\n}\nonMount(() => {\n  scroll_on_value_update();\n});\n$:\n  if (value || pending_message || _components) {\n    scroll_on_value_update();\n  }\nonMount(() => {\n  function handle_scroll() {\n    if (is_at_bottom()) {\n      show_scroll_button = false;\n    } else {\n      scroll_after_component_load = false;\n    }\n  }\n  div?.addEventListener(\"scroll\", handle_scroll);\n  return () => {\n    div?.removeEventListener(\"scroll\", handle_scroll);\n  };\n});\nlet image_preview_source;\nlet image_preview_source_alt;\nlet is_image_preview_open = false;\nafterUpdate(() => {\n  if (!div)\n    return;\n  div.querySelectorAll(\"img\").forEach((n) => {\n    n.addEventListener(\"click\", (e) => {\n      const target2 = e.target;\n      if (target2) {\n        image_preview_source = target2.src;\n        image_preview_source_alt = target2.alt;\n        is_image_preview_open = true;\n      }\n    });\n  });\n});\n$: {\n  if (!dequal(value, old_value)) {\n    old_value = value;\n    dispatch(\"change\");\n  }\n}\n$:\n  groupedMessages = value && group_messages(value, msg_format);\nfunction handle_example_select(i, example) {\n  dispatch(\"example_select\", {\n    index: i,\n    value: { text: example.text, files: example.files }\n  });\n}\nfunction handle_like(i, message, selected) {\n  if (selected === \"undo\" || selected === \"retry\") {\n    const val_ = value;\n    let last_index = val_.length - 1;\n    while (val_[last_index].role === \"assistant\") {\n      last_index--;\n    }\n    dispatch(selected, {\n      index: val_[last_index].index,\n      value: val_[last_index].content\n    });\n    return;\n  }\n  if (msg_format === \"tuples\") {\n    dispatch(\"like\", {\n      index: message.index,\n      value: message.content,\n      liked: selected === \"like\"\n    });\n  } else {\n    if (!groupedMessages)\n      return;\n    const message_group = groupedMessages[i];\n    const [first, last] = [\n      message_group[0],\n      message_group[message_group.length - 1]\n    ];\n    dispatch(\"like\", {\n      index: [first.index, last.index],\n      value: message_group.map((m) => m.content),\n      liked: selected === \"like\"\n    });\n  }\n}\n</script>\n\n{#if value !== null && value.length > 0}\n\t<IconButtonWrapper>\n\t\t{#if show_share_button}\n\t\t\t<IconButton\n\t\t\t\tIcon={Community}\n\t\t\t\ton:click={async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tconst formatted = await format_chat_for_sharing(value);\n\t\t\t\t\t\tdispatch(\"share\", {\n\t\t\t\t\t\t\tdescription: formatted\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\tlet message = e instanceof ShareError ? e.message : \"Share failed.\";\n\t\t\t\t\t\tdispatch(\"error\", message);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Community />\n\t\t\t</IconButton>\n\t\t{/if}\n\t\t<IconButton Icon={Trash} on:click={() => dispatch(\"clear\")} label={\"Clear\"}\n\t\t></IconButton>\n\t\t{#if show_copy_all_button}\n\t\t\t<CopyAll {value} />\n\t\t{/if}\n\t</IconButtonWrapper>\n{/if}\n\n<div\n\tclass={layout === \"bubble\" ? \"bubble-wrap\" : \"panel-wrap\"}\n\tbind:this={div}\n\trole=\"log\"\n\taria-label=\"chatbot conversation\"\n\taria-live=\"polite\"\n>\n\t{#if value !== null && value.length > 0 && groupedMessages !== null}\n\t\t<div class=\"message-wrap\" use:copy>\n\t\t\t{#each groupedMessages as messages, i}\n\t\t\t\t{@const role = messages[0].role === \"user\" ? \"user\" : \"bot\"}\n\t\t\t\t{@const avatar_img = avatar_images[role === \"user\" ? 0 : 1]}\n\t\t\t\t{@const opposite_avatar_img = avatar_images[role === \"user\" ? 0 : 1]}\n\t\t\t\t{#if is_image_preview_open}\n\t\t\t\t\t<div class=\"image-preview\">\n\t\t\t\t\t\t<img src={image_preview_source} alt={image_preview_source_alt} />\n\t\t\t\t\t\t<IconButtonWrapper>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tIcon={Clear}\n\t\t\t\t\t\t\t\ton:click={() => (is_image_preview_open = false)}\n\t\t\t\t\t\t\t\tlabel={\"Clear\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</IconButtonWrapper>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t\t<Message\n\t\t\t\t\t{messages}\n\t\t\t\t\t{opposite_avatar_img}\n\t\t\t\t\t{avatar_img}\n\t\t\t\t\t{role}\n\t\t\t\t\t{layout}\n\t\t\t\t\t{dispatch}\n\t\t\t\t\t{i18n}\n\t\t\t\t\t{_fetch}\n\t\t\t\t\t{line_breaks}\n\t\t\t\t\t{theme_mode}\n\t\t\t\t\t{target}\n\t\t\t\t\t{root}\n\t\t\t\t\t{upload}\n\t\t\t\t\t{selectable}\n\t\t\t\t\t{sanitize_html}\n\t\t\t\t\t{bubble_full_width}\n\t\t\t\t\t{render_markdown}\n\t\t\t\t\t{rtl}\n\t\t\t\t\t{i}\n\t\t\t\t\t{value}\n\t\t\t\t\t{latex_delimiters}\n\t\t\t\t\t{_components}\n\t\t\t\t\t{generating}\n\t\t\t\t\t{msg_format}\n\t\t\t\t\tshow_like={role === \"user\" ? likeable && like_user_message : likeable}\n\t\t\t\t\tshow_retry={_retryable && is_last_bot_message(messages, value)}\n\t\t\t\t\tshow_undo={_undoable && is_last_bot_message(messages, value)}\n\t\t\t\t\t{show_copy_button}\n\t\t\t\t\thandle_action={(selected) => handle_like(i, messages[0], selected)}\n\t\t\t\t\tscroll={is_browser ? scroll : () => {}}\n\t\t\t\t/>\n\t\t\t{/each}\n\t\t\t{#if pending_message}\n\t\t\t\t<Pending {layout} />\n\t\t\t{/if}\n\t\t</div>\n\t{:else}\n\t\t<div class=\"placeholder-content\">\n\t\t\t{#if placeholder !== null}\n\t\t\t\t<div class=\"placeholder\">\n\t\t\t\t\t<Markdown message={placeholder} {latex_delimiters} {root} />\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t\t{#if examples !== null}\n\t\t\t\t<div class=\"examples\">\n\t\t\t\t\t{#each examples as example, i}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"example\"\n\t\t\t\t\t\t\ton:click={() => handle_example_select(i, example)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if example.icon !== undefined}\n\t\t\t\t\t\t\t\t<div class=\"example-icon-container\">\n\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\tclass=\"example-icon\"\n\t\t\t\t\t\t\t\t\t\tsrc={example.icon.url}\n\t\t\t\t\t\t\t\t\t\talt=\"example-icon\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{#if example.display_text !== undefined}\n\t\t\t\t\t\t\t\t<span class=\"example-display-text\">{example.display_text}</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"example-text\">{example.text}</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{#if example.files !== undefined && example.files.length > 1}\n\t\t\t\t\t\t\t\t<span class=\"example-file\"\n\t\t\t\t\t\t\t\t\t><em>{example.files.length} Files</em></span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{:else if example.files !== undefined && example.files[0] !== undefined && example.files[0].mime_type?.includes(\"image\")}\n\t\t\t\t\t\t\t\t<div class=\"example-image-container\">\n\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\tclass=\"example-image\"\n\t\t\t\t\t\t\t\t\t\tsrc={example.files[0].url}\n\t\t\t\t\t\t\t\t\t\talt=\"example-image\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{:else if example.files !== undefined && example.files[0] !== undefined}\n\t\t\t\t\t\t\t\t<span class=\"example-file\"\n\t\t\t\t\t\t\t\t\t><em>{example.files[0].orig_name}</em></span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t{/if}\n</div>\n\n{#if show_scroll_button}\n\t<div class=\"scroll-down-button-container\">\n\t\t<IconButton\n\t\t\tIcon={ScrollDownArrow}\n\t\t\tlabel=\"Scroll down\"\n\t\t\tsize=\"large\"\n\t\t\ton:click={scroll_to_bottom}\n\t\t/>\n\t</div>\n{/if}\n\n<style>\n\t.placeholder-content {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100%;\n\t}\n\n\t.placeholder {\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\theight: 100%;\n\t\tflex-grow: 1;\n\t}\n\n\t.examples :global(img) {\n\t\tpointer-events: none;\n\t}\n\n\t.examples {\n\t\tmargin: auto;\n\t\tpadding: var(--spacing-xxl);\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n\t\tgap: var(--spacing-xxl);\n\t\tmax-width: calc(min(4 * 200px + 5 * var(--spacing-xxl), 100%));\n\t}\n\n\t.example {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: var(--spacing-xl);\n\t\tborder: 0.05px solid var(--border-color-primary);\n\t\tborder-radius: var(--radius-xl);\n\t\tbackground-color: var(--background-fill-secondary);\n\t\tcursor: pointer;\n\t\ttransition: var(--button-transition);\n\t\tmax-width: var(--size-56);\n\t\twidth: 100%;\n\t\tjustify-content: center;\n\t}\n\n\t.example:hover {\n\t\tbackground-color: var(--color-accent-soft);\n\t\tborder-color: var(--border-color-accent);\n\t}\n\n\t.example-icon-container {\n\t\tdisplay: flex;\n\t\talign-self: flex-start;\n\t\tmargin-left: var(--spacing-md);\n\t\twidth: var(--size-6);\n\t\theight: var(--size-6);\n\t}\n\n\t.example-display-text,\n\t.example-text,\n\t.example-file {\n\t\tfont-size: var(--text-md);\n\t\twidth: 100%;\n\t\ttext-align: center;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t.example-display-text,\n\t.example-file {\n\t\tmargin-top: var(--spacing-md);\n\t}\n\n\t.example-image-container {\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin-top: var(--spacing-xl);\n\t}\n\n\t.example-image-container :global(img) {\n\t\tmax-height: 100%;\n\t\tmax-width: 100%;\n\t\theight: var(--size-32);\n\t\twidth: 100%;\n\t\tobject-fit: cover;\n\t\tborder-radius: var(--radius-xl);\n\t}\n\n\t.panel-wrap {\n\t\twidth: 100%;\n\t\toverflow-y: auto;\n\t}\n\n\t.bubble-wrap {\n\t\twidth: 100%;\n\t\toverflow-y: auto;\n\t\theight: 100%;\n\t\tpadding-top: var(--spacing-xxl);\n\t}\n\n\t@media (prefers-color-scheme: dark) {\n\t\t.bubble-wrap {\n\t\t\tbackground: var(--background-fill-secondary);\n\t\t}\n\t}\n\n\t.message-wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: var(--spacing-xxl);\n\t}\n\n\t.message-wrap :global(.prose.chatbot.md) {\n\t\topacity: 0.8;\n\t\toverflow-wrap: break-word;\n\t}\n\n\t.message-wrap :global(.message-row .md img) {\n\t\tborder-radius: var(--radius-xl);\n\t\tmargin: var(--size-2);\n\t\twidth: 400px;\n\t\tmax-width: 30vw;\n\t\tmax-height: 30vw;\n\t}\n\n\t/* link styles */\n\t.message-wrap :global(.message a) {\n\t\tcolor: var(--color-text-link);\n\t\ttext-decoration: underline;\n\t}\n\n\t/* table styles */\n\t.message-wrap :global(.bot table),\n\t.message-wrap :global(.bot tr),\n\t.message-wrap :global(.bot td),\n\t.message-wrap :global(.bot th) {\n\t\tborder: 1px solid var(--border-color-primary);\n\t}\n\n\t.message-wrap :global(.user table),\n\t.message-wrap :global(.user tr),\n\t.message-wrap :global(.user td),\n\t.message-wrap :global(.user th) {\n\t\tborder: 1px solid var(--border-color-accent);\n\t}\n\n\t/* KaTeX */\n\t.message-wrap :global(span.katex) {\n\t\tfont-size: var(--text-lg);\n\t\tdirection: ltr;\n\t}\n\n\t.message-wrap :global(span.katex-display) {\n\t\tmargin-top: 0;\n\t}\n\n\t.message-wrap :global(pre) {\n\t\tposition: relative;\n\t}\n\n\t.message-wrap :global(.grid-wrap) {\n\t\tmax-height: 80% !important;\n\t\tmax-width: 600px;\n\t\tobject-fit: contain;\n\t}\n\n\t.message-wrap > div :global(p:not(:first-child)) {\n\t\tmargin-top: var(--spacing-xxl);\n\t}\n\n\t.message-wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: var(--spacing-xxl);\n\t}\n\n\t.panel-wrap :global(.message-row:first-child) {\n\t\tpadding-top: calc(var(--spacing-xxl) * 2);\n\t}\n\n\t.scroll-down-button-container {\n\t\tposition: absolute;\n\t\tbottom: 10px;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\tz-index: var(--layer-top);\n\t}\n\t.scroll-down-button-container :global(button) {\n\t\tborder-radius: 50%;\n\t\tbox-shadow: var(--shadow-drop);\n\t\ttransition:\n\t\t\tbox-shadow 0.2s ease-in-out,\n\t\t\ttransform 0.2s ease-in-out;\n\t}\n\t.scroll-down-button-container :global(button:hover) {\n\t\tbox-shadow:\n\t\t\tvar(--shadow-drop),\n\t\t\t0 2px 2px rgba(0, 0, 0, 0.05);\n\t\ttransform: translateY(-2px);\n\t}\n\n\t.image-preview {\n\t\tposition: absolute;\n\t\tz-index: 999;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: auto;\n\t\tbackground-color: var(--background-fill-secondary);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n</style>\n","<script context=\"module\">export { default as BaseChatBot } from \"./shared/ChatBot.svelte\";\n</script>\n\n<script>import ChatBot from \"./shared/ChatBot.svelte\";\nimport { Block, BlockLabel } from \"@gradio/atoms\";\nimport { Chat } from \"@gradio/icons\";\nimport { StatusTracker } from \"@gradio/statustracker\";\nimport { normalise_tuples, normalise_messages } from \"./shared/utils\";\nexport let elem_id = \"\";\nexport let elem_classes = [];\nexport let visible = true;\nexport let value = [];\nexport let scale = null;\nexport let min_width = void 0;\nexport let label;\nexport let show_label = true;\nexport let root;\nexport let _selectable = false;\nexport let likeable = false;\nexport let show_share_button = false;\nexport let rtl = false;\nexport let show_copy_button = true;\nexport let show_copy_all_button = false;\nexport let sanitize_html = true;\nexport let bubble_full_width = true;\nexport let layout = \"bubble\";\nexport let type = \"tuples\";\nexport let render_markdown = true;\nexport let line_breaks = true;\nexport let autoscroll = true;\nexport let _retryable = false;\nexport let _undoable = false;\nexport let latex_delimiters;\nexport let gradio;\nlet _value = [];\n$:\n  _value = type === \"tuples\" ? normalise_tuples(value, root) : normalise_messages(value, root);\nexport let avatar_images = [null, null];\nexport let like_user_message = false;\nexport let loading_status = void 0;\nexport let height;\nexport let min_height;\nexport let max_height;\nexport let placeholder = null;\nexport let examples = null;\nexport let theme_mode;\n</script>\n\n<Block\n\t{elem_id}\n\t{elem_classes}\n\t{visible}\n\tpadding={false}\n\t{scale}\n\t{min_width}\n\t{height}\n\t{min_height}\n\t{max_height}\n\tallow_overflow={true}\n\tflex={true}\n\toverflow_behavior=\"auto\"\n>\n\t{#if loading_status}\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...loading_status}\n\t\t\tshow_progress={loading_status.show_progress === \"hidden\"\n\t\t\t\t? \"hidden\"\n\t\t\t\t: \"minimal\"}\n\t\t\ton:clear_status={() => gradio.dispatch(\"clear_status\", loading_status)}\n\t\t/>\n\t{/if}\n\t<div class=\"wrapper\">\n\t\t{#if show_label}\n\t\t\t<BlockLabel\n\t\t\t\t{show_label}\n\t\t\t\tIcon={Chat}\n\t\t\t\tfloat={true}\n\t\t\t\tlabel={label || \"Chatbot\"}\n\t\t\t/>\n\t\t{/if}\n\t\t<ChatBot\n\t\t\ti18n={gradio.i18n}\n\t\t\tselectable={_selectable}\n\t\t\t{likeable}\n\t\t\t{show_share_button}\n\t\t\t{show_copy_all_button}\n\t\t\tvalue={_value}\n\t\t\t{latex_delimiters}\n\t\t\t{render_markdown}\n\t\t\t{theme_mode}\n\t\t\tpending_message={loading_status?.status === \"pending\"}\n\t\t\tgenerating={loading_status?.status === \"generating\"}\n\t\t\t{rtl}\n\t\t\t{show_copy_button}\n\t\t\t{like_user_message}\n\t\t\ton:change={() => gradio.dispatch(\"change\", value)}\n\t\t\ton:select={(e) => gradio.dispatch(\"select\", e.detail)}\n\t\t\ton:like={(e) => gradio.dispatch(\"like\", e.detail)}\n\t\t\ton:share={(e) => gradio.dispatch(\"share\", e.detail)}\n\t\t\ton:error={(e) => gradio.dispatch(\"error\", e.detail)}\n\t\t\ton:example_select={(e) => gradio.dispatch(\"example_select\", e.detail)}\n\t\t\ton:retry={(e) => gradio.dispatch(\"retry\", e.detail)}\n\t\t\ton:undo={(e) => gradio.dispatch(\"undo\", e.detail)}\n\t\t\ton:clear={() => {\n\t\t\t\tvalue = [];\n\t\t\t\tgradio.dispatch(\"clear\");\n\t\t\t}}\n\t\t\t{avatar_images}\n\t\t\t{sanitize_html}\n\t\t\t{bubble_full_width}\n\t\t\t{line_breaks}\n\t\t\t{autoscroll}\n\t\t\t{layout}\n\t\t\t{placeholder}\n\t\t\t{examples}\n\t\t\t{_retryable}\n\t\t\t{_undoable}\n\t\t\tupload={(...args) => gradio.client.upload(...args)}\n\t\t\t_fetch={(...args) => gradio.client.fetch(...args)}\n\t\t\tload_component={gradio.load_component}\n\t\t\tmsg_format={type}\n\t\t\troot={gradio.root}\n\t\t/>\n\t</div>\n</Block>\n\n<style>\n\t.wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tflex-direction: column;\n\t\talign-items: start;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tflex-grow: 1;\n\t}\n\n\t:global(.progress-text) {\n\t\tright: auto;\n\t}\n</style>\n"],"names":["insert","target","svg","anchor","append","path0","path1","path2","path3","path","format_chat_for_sharing","chat","message_pair","message","speaker_emoji","html_content","regexPatterns","_","regex","match","fileUrl","newUrl","uploadToHuggingFace","file_url","redirect_src_url","src","root","get_component_for_mime_type","mime_type","convert_file_message_to_component_message","_file","normalise_messages","messages","i","normalise_tuples","index","role","is_component_message","is_last_bot_message","all_messages","is_bot","last_index","group_messages","msg_format","groupedMessages","currentGroup","currentRole","load_components","component_names","_components","load_component","names","components","component_name","name","component","get_components_from_messages","switch_value","ctx","func","dirty","switch_instance_changes","track","type","$$props","value","theme_mode","props","i18n","upload","_fetch","div","create_if_block","button","span0","span1","expanded","title","toggleExpanded","$$invalidate","ThumbDownActive","ThumbDownDefault","ThumbUpActive","ThumbUpDefault","iconbutton0_changes","iconbutton1_changes","handle_action","selected","Check","Copy","copied","timer","copy_feedback","handle_copy","textArea","error","onDestroy","attr","div_class_value","current","downloadlink_changes","DownloadIcon","Retry","Undo","create_if_block_5","create_if_block_3","create_if_block_2","create_if_block_1","is_all_text","message2","m","all_text","likeable","show_retry","show_undo","show_copy_button","show","position","avatar","generating","layout","click_handler","click_handler_1","message_text","show_copy","show_download","image_changes","a","a_href_value","a_download_value","set_data","t","t_value","is_function","markdown_changes","if_block1","button_aria_label_value","get_message_label_data","toggle_class","if_block0","create_if_block_6","div0","div1","div1_class_value","each_blocks","avatar_img","opposite_avatar_img","bubble_full_width","render_markdown","latex_delimiters","sanitize_html","selectable","rtl","dispatch","line_breaks","show_like","scroll","handle_select","i2","button_panel_props","e","set_style","div3","copy_conversation","conversation_value","err","constants_0","child_ctx","constants_1","constants_2","Community","create_if_block_13","iconbutton","IconButton","Trash","create_if_block_12","create_if_block_10","create_if_block_4","div_1","span","em","t0","t0_value","create_if_block_9","create_if_block_8","img","img_src_value","Clear","func_1","message_changes","ScrollDownArrow","create_if_block_11","div_1_class_value","null_to_empty","old_value","is_browser","update_components","pending_message","show_share_button","show_copy_all_button","avatar_images","autoscroll","placeholder","examples","_retryable","_undoable","like_user_message","onMount","show_scroll_button","createEventDispatcher","is_at_bottom","scroll_to_bottom","scroll_on_value_update","tick","handle_scroll","image_preview_source","image_preview_source_alt","is_image_preview_open","afterUpdate","n","target2","handle_example_select","example","handle_like","val_","message_group","first","last","formatted","ShareError","click_handler_2","$$value","dequal","Chat","blocklabel_changes","chatbot_changes","elem_id","elem_classes","visible","scale","min_width","label","show_label","_selectable","gradio","_value","loading_status","height","min_height","max_height","clear_status_handler","args","change_handler"],"mappings":"gnDAAAA,EAgBKC,EAAAC,EAAAC,CAAA,EALJC,EAGCF,EAAAG,CAAA,EACDD,EAAyDF,EAAAI,CAAA,2pCCf1DN,EAqCKC,EAAAC,EAAAC,CAAA,EA5BJC,EAMOF,EAAAG,CAAA,EACPD,EAMOF,EAAAI,CAAA,EACPF,EAMOF,EAAAK,CAAA,EACPH,EAMOF,EAAAM,CAAA,kcCpCRR,EAcKC,EAAAC,EAAAC,CAAA,EAPJC,EAMCF,EAAAO,CAAA,gGCXK,MAAMC,GAA0B,MAAOC,IAC3B,MAAM,QAAQ,IAAIA,EAAK,IAAI,MAAOC,GACtC,MAAM,QAAQ,IAAIA,EAAa,IAAI,MAAOC,EAAS,IAAM,CAC5D,GAAIA,IAAY,KACZ,MAAO,GACX,IAAIC,EAAgB,IAAM,EAAI,KAAO,KACjCC,EAAe,GACnB,GAAI,OAAOF,GAAY,SAAU,CAC7B,MAAMG,EAAgB,CAClB,MAAO,+BACP,MAAO,+BACP,MAAO,2DAC3B,EACgBD,EAAeF,EACf,OAAS,CAACI,EAAGC,CAAK,IAAK,OAAO,QAAQF,CAAa,EAAG,CAClD,IAAIG,EACJ,MAAQA,EAAQD,EAAM,KAAKL,CAAO,KAAO,MAAM,CAC3C,MAAMO,EAAUD,EAAM,CAAC,GAAKA,EAAM,CAAC,EAC7BE,EAAS,MAAMC,GAAoBF,CAAc,EACvDL,EAAeA,EAAa,QAAQK,EAASC,CAAM,CACtD,CACJ,CACJ,KACI,CACD,GAAI,CAACR,GAAS,IACV,MAAO,GACX,MAAMU,EAAW,MAAMD,GAAoBT,EAAQ,GAAU,EACzDA,EAAQ,WAAW,SAAS,OAAO,EACnCE,EAAe,wBAAwBQ,CAAQ,aAE1CV,EAAQ,WAAW,SAAS,OAAO,EACxCE,EAAeQ,EAEVV,EAAQ,WAAW,SAAS,OAAO,IACxCE,EAAe,aAAaQ,CAAQ,OAE3C,CACD,MAAO,GAAGT,CAAa,KAAKC,CAAY,EAC3C,CAAA,CAAC,CACL,CAAC,GAEG,IAAKH,GAAiBA,EAAa,KAAKA,EAAa,CAAC,IAAM,IAAMA,EAAa,CAAC,IAAM,GAAK;AAAA,EAAO,EAAE,CAAC,EACrG,KAAK;AAAA,CAAI,EAEZY,GAAmB,CAACC,EAAKC,IAASD,EAAI,QAAQ,aAAc,QAAQC,CAAI,MAAM,EACpF,SAASC,GAA4BC,EAAW,CAC5C,OAAKA,EAEDA,EAAU,SAAS,OAAO,EACnB,QACPA,EAAU,SAAS,OAAO,EACnB,QACPA,EAAU,SAAS,OAAO,EACnB,QACJ,OAPI,MAQf,CACA,SAASC,GAA0ChB,EAAS,CACxD,MAAMiB,EAAQ,MAAM,QAAQjB,EAAQ,IAAI,EAAIA,EAAQ,KAAK,CAAC,EAAIA,EAAQ,KACtE,MAAO,CACH,UAAWc,GAA4BG,GAAO,SAAS,EACvD,MAAOjB,EAAQ,KACf,SAAUA,EAAQ,SAClB,iBAAkB,CAAE,EACpB,MAAO,CAAE,CACjB,CACA,CACO,SAASkB,GAAmBC,EAAUN,EAAM,CAC/C,OAAIM,IAAa,KACNA,EACJA,EAAS,IAAI,CAACnB,EAASoB,IACtB,OAAOpB,EAAQ,SAAY,SACpB,CACH,KAAMA,EAAQ,KACd,SAAUA,EAAQ,SAClB,QAASW,GAAiBX,EAAQ,QAASa,CAAI,EAC/C,KAAM,OACN,MAAOO,CACvB,EAEiB,SAAUpB,EAAQ,QAChB,CACH,QAASgB,GAA0ChB,EAAQ,OAAO,EAClE,SAAUA,EAAQ,SAClB,KAAMA,EAAQ,KACd,KAAM,YACN,MAAOoB,CACvB,EAEe,CAAE,KAAM,YAAa,GAAGpB,CAAO,CACzC,CACL,CACO,SAASqB,GAAiBF,EAAUN,EAAM,CAC7C,OAAIM,IAAa,KACNA,EACCA,EAAS,QAAQ,CAACpB,EAAc,IACjCA,EAAa,IAAI,CAACC,EAASsB,IAAU,CACxC,GAAItB,GAAW,KACX,OAAO,KACX,MAAMuB,EAAOD,GAAS,EAAI,OAAS,YACnC,OAAI,OAAOtB,GAAY,SACZ,CACH,KAAMuB,EACN,KAAM,OACN,QAASZ,GAAiBX,EAASa,CAAI,EACvC,SAAU,CAAE,MAAO,IAAM,EACzB,MAAO,CAAC,EAAGS,CAAK,CACpC,EAEgB,SAAUtB,EACH,CACH,QAASgB,GAA0ChB,CAAO,EAC1D,KAAMuB,EACN,KAAM,YACN,MAAO,CAAC,EAAGD,CAAK,CACpC,EAEmB,CACH,KAAMC,EACN,QAASvB,EACT,KAAM,YACN,MAAO,CAAC,EAAGsB,CAAK,CAChC,CACA,CAAS,CACJ,EACU,OAAQtB,GAAYA,GAAW,IAAI,CAClD,CACO,SAASwB,GAAqBxB,EAAS,CAC1C,OAAOA,EAAQ,OAAS,WAC5B,CACO,SAASyB,GAAoBN,EAAUO,EAAc,CACxD,MAAMC,EAASR,EAASA,EAAS,OAAS,CAAC,EAAE,OAAS,YAChDS,EAAaT,EAASA,EAAS,OAAS,CAAC,EAAE,MAKjD,OAFgB,KAAK,UAAUS,CAAU,IACrC,KAAK,UAAUF,EAAaA,EAAa,OAAS,CAAC,EAAE,KAAK,GAC5CC,CACtB,CACO,SAASE,GAAeV,EAAUW,EAAY,CACjD,MAAMC,EAAkB,CAAA,EACxB,IAAIC,EAAe,CAAA,EACfC,EAAc,KAClB,UAAWjC,KAAWmB,EACdW,IAAe,WACfG,EAAc,OAEZjC,EAAQ,OAAS,aAAeA,EAAQ,OAAS,UAGnDA,EAAQ,OAASiC,EACjBD,EAAa,KAAKhC,CAAO,GAGrBgC,EAAa,OAAS,GACtBD,EAAgB,KAAKC,CAAY,EAErCA,EAAe,CAAChC,CAAO,EACvBiC,EAAcjC,EAAQ,OAG9B,OAAIgC,EAAa,OAAS,GACtBD,EAAgB,KAAKC,CAAY,EAE9BD,CACX,CACO,eAAeG,GAAgBC,EAAiBC,EAAaC,EAAgB,CAChF,IAAIC,EAAQ,CAAA,EACRC,EAAa,CAAA,EACjB,OAAAJ,EAAgB,QAASK,GAAmB,CACxC,GAAIJ,EAAYI,CAAc,GAAKA,IAAmB,OAClD,OAEJ,KAAM,CAAE,KAAAC,EAAM,UAAAC,CAAS,EAAKL,EAAeG,EAAgB,MAAM,EACjEF,EAAM,KAAKG,CAAI,EACfF,EAAW,KAAKG,CAAS,CAEjC,CAAK,GACyB,MAAM,QAAQ,IAAIH,CAAU,GACpC,QAAQ,CAACG,EAAWtB,IAAM,CACxCgB,EAAYE,EAAMlB,CAAC,CAAC,EAAIsB,EAAU,OAC1C,CAAK,EACMN,CACX,CACO,SAASO,GAA6BxB,EAAU,CACnD,GAAI,CAACA,EACD,MAAO,GACX,IAAIoB,EAAa,IAAI,IACrB,OAAApB,EAAS,QAASnB,GAAY,CACtBA,EAAQ,OAAS,aACjBuC,EAAW,IAAIvC,EAAQ,QAAQ,SAAS,CAEpD,CAAK,EACM,MAAM,KAAKuC,CAAU,CAChC,0BCxHQ,IAAAK,EAAAC,KAAWA,EAAI,CAAA,CAAA,sDAET,2CAEO,qBAET,SAAQC,EAAA,yHANZ,GAAAC,EAAA,GAAAH,KAAAA,EAAAC,KAAWA,EAAI,CAAA,CAAA,GAAA,iWAVf,IAAAD,EAAAC,KAAWA,EAAI,CAAA,CAAA,sDAET,8CAEU,oIAJhB,GAAAE,EAAA,GAAAH,KAAAA,EAAAC,KAAWA,EAAI,CAAA,CAAA,GAAA,iWAdf,IAAAD,EAAAC,KAAWA,EAAI,CAAA,CAAA,yCACX,SACHA,EAAK,CAAA,EAAC,OAASA,EAAK,CAAA,aACf,qBACO,8CAGG,iKAPhB,GAAAE,EAAA,GAAAH,KAAAA,EAAAC,KAAWA,EAAI,CAAA,CAAA,GAAA,kMAEdA,EAAK,CAAA,EAAC,OAASA,EAAK,CAAA,wNAfrB,IAAAD,EAAAC,KAAWA,EAAI,CAAA,CAAA,sDAET,qBACO,oFAKG,0HARhB,GAAAE,EAAA,GAAAH,KAAAA,EAAAC,KAAWA,EAAI,CAAA,CAAA,GAAA,iWAXf,IAAAD,EAAAC,KAAWA,EAAI,CAAA,CAAA,uEAIN,cAAAA,KAAM,6CAEA,0HANf,GAAAE,EAAA,GAAAH,KAAAA,EAAAC,KAAWA,EAAI,CAAA,CAAA,GAAA,uPAINE,EAAA,KAAAC,EAAA,cAAAH,KAAM,oJAlBf,IAAAD,EAAAC,KAAWA,EAAI,CAAA,CAAA,sDAET,gDAIG,eACF,+BAEC,wHATR,GAAAE,EAAA,GAAAH,KAAAA,EAAAC,KAAWA,EAAI,CAAA,CAAA,GAAA,0aAgDrB1D,EAAwBC,EAAA6D,EAAA3D,CAAA,kGAlDrB,OAAAuD,OAAS,UAAS,EAcbA,OAAS,OAAM,EAWfA,OAAS,QAAO,EAahBA,OAAS,QAAO,EAchBA,OAAS,QAAO,EAUhBA,OAAS,OAAM,qXAzEN,KAAAK,CAAI,EAAAC,GACZ,WAAAZ,CAAU,EAAAY,GACV,MAAAC,CAAK,EAAAD,GACL,OAAA/D,CAAM,EAAA+D,GACN,WAAAE,CAAU,EAAAF,GACV,MAAAG,CAAK,EAAAH,GACL,KAAAI,CAAI,EAAAJ,GACJ,OAAAK,CAAM,EAAAL,GACN,OAAAM,CAAM,EAAAN,y9CCUfhE,EAEKC,EAAAsE,EAAApE,CAAA,8MAHDuD,EAAQ,CAAA,GAAAc,GAAAd,CAAA,uDARcA,EAAK,CAAA,CAAA,mJAEbA,EAAQ,CAAA,EAAG,YAAc,eAAe,gFAJ5D1D,EAeQC,EAAAwE,EAAAtE,CAAA,EAdPC,EAQKqE,EAAAF,CAAA,EAPJnE,EAAsCmE,EAAAG,CAAA,gBACtCtE,EAKMmE,EAAAI,CAAA,gDARsBjB,EAAc,CAAA,CAAA,kCAEhBA,EAAK,CAAA,CAAA,wBAEbA,EAAQ,CAAA,EAAG,YAAc,eAAe,EAMtDA,EAAQ,CAAA,yNAjBK,CAAA,SAAAkB,EAAW,EAAK,EAAAZ,GACxB,MAAAa,CAAK,EAAAb,WACPc,GAAc,CACrBC,EAAA,EAAAH,GAAYA,CAAQ,klCCHtB5E,EAWKC,EAAAC,EAAAC,CAAA,EAJJC,EAGCF,EAAAO,CAAA,qqCCVFT,EAWKC,EAAAC,EAAAC,CAAA,EAJJC,EAGCF,EAAAO,CAAA,+zBCVFT,EAWKC,EAAAC,EAAAC,CAAA,EAJJC,EAGCF,EAAAO,CAAA,iqCCVFT,EAWKC,EAAAC,EAAAC,CAAA,EAJJC,EAGCF,EAAAO,CAAA,mJCAK,KAAAiD,OAAa,UAAYsB,GAAkBC,GAC1C,MAAAvB,OAAa,UAAY,kBAAoB,UAC7C,MAAAA,OAAa,UACjB,sBACA,wEAQG,KAAAA,OAAa,OAASwB,GAAgBC,GACrC,MAAAzB,EAAa,CAAA,IAAA,OAAS,eAAiB,OACvC,MAAAA,OAAa,OACjB,sBACA,iKAhBGE,EAAA,IAAAwB,EAAA,KAAA1B,OAAa,UAAYsB,GAAkBC,IAC1CrB,EAAA,IAAAwB,EAAA,MAAA1B,OAAa,UAAY,kBAAoB,WAC7CE,EAAA,IAAAwB,EAAA,MAAA1B,OAAa,UACjB,sBACA,sDAQGE,EAAA,IAAAyB,EAAA,KAAA3B,OAAa,OAASwB,GAAgBC,IACrCvB,EAAA,IAAAyB,EAAA,MAAA3B,EAAa,CAAA,IAAA,OAAS,eAAiB,QACvCE,EAAA,IAAAyB,EAAA,MAAA3B,OAAa,OACjB,sBACA,uMArBO,cAAA4B,CAAa,EAAAtB,EACpBuB,EAAW,kBAUbR,EAAA,EAAAQ,EAAW,SAAS,EACpBD,EAAcC,CAAQ,UAWtBR,EAAA,EAAAQ,EAAW,MAAM,EACjBD,EAAcC,CAAQ,kTCchB7B,EAAM,CAAA,EAAG,iBAAmB,oBAC7BA,EAAM,CAAA,EAAG8B,GAAQC,oBAFb/B,EAAW,CAAA,CAAA,iFACdA,EAAM,CAAA,EAAG,iBAAmB,6BAC7BA,EAAM,CAAA,EAAG8B,GAAQC,iHAzCpB,IAAAC,EAAS,IACF,MAAAzB,CAAK,EAAAD,EACZ2B,WACKC,GAAa,CACpBb,EAAA,EAAAW,EAAS,EAAI,EACTC,GACF,aAAaA,CAAK,EACpBA,EAAQ,gBACNZ,EAAA,EAAAW,EAAS,EAAK,GACb,oBAEUG,GAAW,CACpB,GAAA,cAAe,UACX,MAAA,UAAU,UAAU,UAAU5B,CAAK,EACzC2B,SAEM,MAAAE,EAAW,SAAS,cAAc,UAAU,EAClDA,EAAS,MAAQ7B,EACjB6B,EAAS,MAAM,SAAW,WAC1BA,EAAS,MAAM,KAAO,YACtB,SAAS,KAAK,QAAQA,CAAQ,EAC9BA,EAAS,OAAM,MAEb,SAAS,YAAY,MAAM,EAC3BF,UACOG,EAAK,CACZ,QAAQ,MAAMA,CAAK,UAEnBD,EAAS,OAAM,IAIrB,OAAAE,GAAS,IAAA,CACHL,GACF,aAAaA,CAAK,i3ECrCtB3F,EAeKC,EAAAC,EAAAC,CAAA,EARJC,EAGCF,EAAAG,CAAA,EACDD,EAGCF,EAAAI,CAAA,6JC0B8B,8EAHN2F,EAAA1B,EAAA,QAAA2B,EAAA,mBAAAxC,SAAWA,EAAM,CAAA,EAAA,qBAAmBA,EAC3D,CAAA,IAAA,MAAQ,eAAa,iBAAA,UAFvB1D,EAoCKC,EAAAsE,EAAApE,CAAA,sFAnCoB,CAAAgG,GAAAvC,EAAA,KAAAsC,KAAAA,EAAA,mBAAAxC,SAAWA,EAAM,CAAA,EAAA,qBAAmBA,EAC3D,CAAA,IAAA,MAAQ,eAAa,+KAIPA,EAAY,EAAA,CAAA,oFAAZA,EAAY,EAAA,4IAIlB,KAAAA,EAAS,CAAA,GAAA,SAAS,MAAM,IACpB,SAAAA,KAAQ,QAAQ,MAAM,WAAa,iHADvCE,EAAA,KAAAwC,EAAA,KAAA1C,EAAS,CAAA,GAAA,SAAS,MAAM,KACpBE,EAAA,KAAAwC,EAAA,SAAA1C,KAAQ,QAAQ,MAAM,WAAa,4LAE3B2C,EAAY,CAAA,CAAA,sLAKxBC,0BAGI5C,EAAU,CAAA,4GAAVA,EAAU,CAAA,8JAMd6C,YAEI7C,EAAU,CAAA,4GAAVA,EAAU,CAAA,gXArBjBA,EAAa,EAAA,GAAA,CAAK,MAAM,QAAQA,EAAO,CAAA,CAAA,GAAKrB,GAAqBqB,EAAO,CAAA,CAAA,cAHxEA,EAAS,EAAA,GAAA8C,GAAA9C,CAAA,eAWTA,EAAU,CAAA,GAAA+C,GAAA/C,CAAA,IAQVA,EAAS,CAAA,GAAAgD,GAAAhD,CAAA,IAQTA,EAAQ,CAAA,GAAAiD,GAAAjD,CAAA,sNA3BRA,EAAS,EAAA,uHAGTA,EAAa,EAAA,GAAA,CAAK,MAAM,QAAQA,EAAO,CAAA,CAAA,GAAKrB,GAAqBqB,EAAO,CAAA,CAAA,+GAQxEA,EAAU,CAAA,yGAQVA,EAAS,CAAA,yGAQTA,EAAQ,CAAA,uSAjCXA,EAAI,CAAA,GAAAc,GAAAd,CAAA,wEAAJA,EAAI,CAAA,wKAjBA,SAAAkD,GAAYC,EAAQ,QACpB,MAAM,QAAQA,CAAQ,GAAKA,EAAS,MAAOC,GAAC,OAAYA,EAAE,SAAY,QAAQ,GAAA,CAAM,MAAM,QAAQD,CAAQ,GAAA,OAAYA,EAAS,SAAY,SAE3I,SAAAE,GAASF,EAAQ,QACpB,MAAM,QAAQA,CAAQ,EACjBA,EAAS,IAAKC,GAAMA,EAAE,OAAO,EAAE,KAAK;AAAA,CAAI,EAE1CD,EAAS,sCAlBP,SAAAG,CAAQ,EAAAhD,GACR,WAAAiD,CAAU,EAAAjD,GACV,UAAAkD,CAAS,EAAAlD,GACT,iBAAAmD,CAAgB,EAAAnD,GAChB,KAAAoD,CAAI,EAAApD,GACJ,QAAAnD,CAAO,EAAAmD,GACP,SAAAqD,CAAQ,EAAArD,GACR,OAAAsD,CAAM,EAAAtD,GACN,WAAAuD,CAAU,EAAAvD,GACV,cAAAsB,CAAa,EAAAtB,GACb,OAAAwD,CAAM,EAAAxD,EAuCI,MAAAyD,EAAA,IAAAnC,EAAc,OAAO,EAQrBoC,EAAA,IAAApC,EAAc,MAAM,+bArCxCP,EAAA,GACC4C,EAAef,GAAY/F,CAAO,EAAIkG,GAASlG,CAAO,EAAI,EAAE,mBAC7DkE,EAAA,GACC6C,EAAYT,GAAoBtG,GAAW+F,GAAY/F,CAAO,CAAA,sBAE9DgH,EAAa,CAAI,MAAM,QAAQhH,CAAO,GAAKwB,GAAqBxB,CAAO,GAAKA,EAAQ,QAAQ,OAAO,GAAG,gxCC6CpE,IAAA6C,MAAY,QAAWA,EAAI,CAAA,EAAA,qGAD7D1D,EAEKC,EAAAsE,EAAApE,CAAA,sCAD6ByD,EAAA,CAAA,EAAA,IAAAkE,EAAA,IAAApE,MAAY,oBAAWA,EAAI,CAAA,EAAA,mIA2FvDA,EAAO,EAAA,EAAC,QAAQ,OAAO,WACvBA,EAAQ,EAAA,EAAA,QAAQ,OAAO,KAAK,MAAM,GAAG,EAAE,IAAG,GAC1C,QAAM,8GAVDuC,EAAA8B,EAAA,OAAAC,EAAAtE,EAAQ,EAAA,EAAA,QAAQ,MAAM,GAAG,yBAErBuC,EAAA8B,EAAA,WAAAE,EAAA,OAAO,aACd,KACAvE,EAAO,EAAA,EAAC,QAAQ,OAAO,WACxBA,EAAQ,EAAA,EAAA,QAAQ,OAAO,KAAK,MAAM,GAAG,EAAE,IAAG,GAC1C,MAAM,UATT1D,EAcGC,EAAA8H,EAAA5H,CAAA,kCAHDuD,EAAO,EAAA,EAAC,QAAQ,OAAO,WACvBA,EAAQ,EAAA,EAAA,QAAQ,OAAO,KAAK,MAAM,GAAG,EAAE,OACvC,QAAM,KAAAwE,GAAAC,EAAAC,CAAA,EAVDxE,EAAA,CAAA,EAAA,IAAAoE,KAAAA,EAAAtE,EAAQ,EAAA,EAAA,QAAQ,MAAM,oBAElBE,EAAA,CAAA,EAAA,IAAAqE,KAAAA,EAAA,OAAO,aACd,KACAvE,EAAO,EAAA,EAAC,QAAQ,OAAO,WACxBA,EAAQ,EAAA,EAAA,QAAQ,OAAO,KAAK,MAAM,GAAG,EAAE,IAAG,GAC1C,sIAnBKA,EAAO,EAAA,EAAC,QAAQ,WACjBA,EAAO,EAAA,EAAC,QAAQ,qBACVA,EAAW,EAAA,QAChBA,EAAO,EAAA,EAAC,QAAQ,kNAHhBA,EAAO,EAAA,EAAC,QAAQ,wBACjBA,EAAO,EAAA,EAAC,QAAQ,sCACVA,EAAW,EAAA,qBAChBA,EAAO,EAAA,EAAC,QAAQ,2PAjCnBA,EAAO,EAAA,EAAC,SAAS,MAAK,qVAiBhB,QAAAA,MAAQ,8HAKR2E,GAAA3E,QAAAA,EAAM,EAAA,EAAA,MAAA,KAAA,SAAA,uEALNE,EAAA,CAAA,EAAA,KAAA0E,EAAA,QAAA5E,MAAQ,8TAfVA,EAAO,EAAA,EAAC,SAAS,eACdpB,GAAoBoB,EAAQ,CAAA,EAAEA,EAAK,CAAA,CAAA,6HADtCA,EAAO,EAAA,EAAC,SAAS,4BACdpB,GAAoBoB,EAAQ,CAAA,EAAEA,EAAK,CAAA,CAAA,+LAGnC,QAAAA,MAAQ,8HAKR2E,GAAA3E,QAAAA,EAAM,EAAA,EAAA,MAAA,KAAA,SAAA,uEALNE,EAAA,CAAA,EAAA,KAAA0E,EAAA,QAAA5E,MAAQ,ySAsDLA,EAAkB,EAAA,CAAA,iKAAlBA,EAAkB,EAAA,CAAA,CAAA,CAAA,yLA7D7BA,EAAO,EAAA,EAAC,OAAS,OAAM,EA2BlBA,EAAO,EAAA,EAAC,OAAS,aAAeA,EAAO,EAAA,EAAC,QAAQ,aAAaA,EAAW,EAAA,EAAA,EAaxEA,EAAO,EAAA,EAAC,OAAS,aAAeA,EAAO,EAAA,EAAC,QAAQ,YAAc,OAAM,4GAoB3E,IAAA6E,EAAA7E,OAAW,SAAOiD,GAAAjD,CAAA,sFA5ERA,EAAI,CAAA,CAAA,cAaZA,EAAG,EAAA,EAAG,MAAQ,KAAK,EACZuC,EAAAxB,EAAA,aAAA+D,EAAA9E,EAAO,CAAA,EAAA,eAAiB+E,GAAuB/E,EAAO,EAAA,CAAA,CAAA,gCAbpDgF,EAAAjE,EAAA,SAAAf,EAAM,EAAA,IAAAA,EAAM,CAAA,EAAA,OAAS,CAAC,mCACFA,EAAe,CAAA,CAAA,mEAGnCA,EAAU,EAAA,EAAG,UAAY,SAAS,oBAC9BA,EAAG,EAAA,EAAG,QAAU,MAAM,2BAnBzBA,EAAI,CAAA,EAAA,KAAGrB,GAAqBqB,EAAO,EAAA,CAAA,EAChDA,EAAO,EAAA,GAAE,QAAQ,UACjB,IAAE,iBAAA,oBACcA,EAAM,CAAA,IAAK,UAAQ,CAAKA,EAAiB,CAAA,CAAA,yBACpC,EAAI,mCACMA,EAAe,CAAA,CAAA,kBAEhCA,EAAO,EAAA,EAAC,OAAS,WAAW,aACjCrB,GAAqBqB,EAChC,EAAA,CAAA,GAAAA,MAAQ,QAAQ,YAAc,MAAM,EACtBgF,EAAAnE,EAAA,UAAAb,MAAgB,CAAC,oBAJdA,EAAG,EAAA,GAAIA,EAAI,CAAA,IAAK,OAAS,OAAS,OAAO,UAP5D1D,EAwFKC,EAAAsE,EAAApE,CAAA,EA3EJC,EA0EQmE,EAAAE,CAAA,4SAzEMf,EAAI,CAAA,CAAA,yBAaZA,EAAG,EAAA,EAAG,MAAQ,uBACP,CAAAyC,GAAAvC,EAAA,CAAA,EAAA,IAAA4E,KAAAA,EAAA9E,EAAO,CAAA,EAAA,eAAiB+E,GAAuB/E,EAAO,EAAA,CAAA,6CAbpDgF,EAAAjE,EAAA,SAAAf,EAAM,EAAA,IAAAA,EAAM,CAAA,EAAA,OAAS,CAAC,mDACFA,EAAe,CAAA,CAAA,oEAGnCA,EAAU,EAAA,EAAG,UAAY,SAAS,+BAC9BA,EAAG,EAAA,EAAG,QAAU,MAAM,kCAnBzBA,EAAI,CAAA,EAAA,KAAGrB,GAAqBqB,EAAO,EAAA,CAAA,EAChDA,EAAO,EAAA,GAAE,QAAQ,UACjB,IAAE,sEACcA,EAAM,CAAA,IAAK,UAAQ,CAAKA,EAAiB,CAAA,CAAA,wCACpC,EAAI,mDACMA,EAAe,CAAA,CAAA,iCAEhCA,EAAO,EAAA,EAAC,OAAS,WAAW,4BACjCrB,GAAqBqB,EAChC,EAAA,CAAA,GAAAA,MAAQ,QAAQ,YAAc,MAAM,iBACtBgF,EAAAnE,EAAA,UAAAb,MAAgB,CAAC,+BAJdA,EAAG,EAAA,GAAIA,EAAI,CAAA,IAAK,OAAS,OAAS,OAAO,EAmFvDA,OAAW,gQAQDA,EAAkB,EAAA,CAAA,iKAAlBA,EAAkB,EAAA,CAAA,CAAA,CAAA,gIA7G9BiF,EAAAjF,OAAe,MAAIkF,GAAAlF,CAAA,OAUhBA,EAAQ,CAAA,CAAA,uBAAb,OAAIzB,GAAA,4DAkGH,IAAAsG,EAAA7E,OAAW,UAAQc,GAAAd,CAAA,qKApGAgF,EAAAG,EAAA,iBAAAnF,EAAS,CAAA,EAAA,CAAC,EAAE,OAAS,WAAW,EAZnCuC,EAAA6C,EAAA,QAAAC,EAAA,eAAArF,SAASA,EAAI,CAAA,EAAA,qBAAA,EACdgF,EAAAI,EAAA,cAAApF,OAAe,IAAI,EACVgF,EAAAI,EAAA,uBAAApF,OAAwB,IAAI,UAHzD1D,EA+GKC,EAAA6I,EAAA3I,CAAA,wBArGJC,EAoGK0I,EAAAD,CAAA,iGAzGAnF,OAAe,wHAUZA,EAAQ,CAAA,CAAA,oBAAb,OAAIzB,GAAA,EAAA,2GAAJ,OAAIA,EAAA+G,EAAA,OAAA/G,GAAA,yDAFgByG,EAAAG,EAAA,iBAAAnF,EAAS,CAAA,EAAA,CAAC,EAAE,OAAS,WAAW,GAZnC,CAAAyC,GAAAvC,EAAA,CAAA,EAAA,IAAAmF,KAAAA,EAAA,eAAArF,SAASA,EAAI,CAAA,EAAA,uDACdgF,EAAAI,EAAA,cAAApF,OAAe,IAAI,iBACVgF,EAAAI,EAAA,uBAAApF,OAAwB,IAAI,EA8GpDA,OAAW,sJAlGZ,OAAIzB,GAAA,yJA3CC,SAAAwG,GAAuB5H,EAAO,QACjCA,EAAQ,OAAS,OACZA,EAAQ,QACNA,EAAQ,OAAS,aAAeA,EAAQ,QAAQ,YAAc,OACnE,MAAM,QAAQA,EAAQ,QAAQ,KAAK,EACH,2BAAAA,EAAQ,QAAQ,MAAM,CAAC,EAAE,WAAW,MAAM,GAAG,EAAE,IAAG,CAAA,8BAEpDA,EAAQ,QAAQ,OAAO,WAAW,MAAM,GAAG,EAAE,IAAG,CAAA,IAAQA,EAAQ,QAAQ,OAAO,WAAa,IAElG,uBAAAA,EAAQ,QAAQ,WAAa,SAAS,0BA7C3D,MAAAoD,CAAK,EAAAD,GACL,WAAAiF,CAAU,EAAAjF,EACV,CAAA,oBAAAkF,EAAsB,IAAI,EAAAlF,EAC1B,CAAA,KAAA5B,EAAO,MAAM,EAAA4B,GACb,SAAAhC,EAAQ,EAAA,EAAAgC,GACR,OAAAwD,CAAM,EAAAxD,GACN,kBAAAmF,CAAiB,EAAAnF,GACjB,gBAAAoF,CAAe,EAAApF,GACf,iBAAAqF,CAAgB,EAAArF,GAChB,cAAAsF,CAAa,EAAAtF,GACb,WAAAuF,CAAU,EAAAvF,GACV,OAAAM,CAAM,EAAAN,GACN,IAAAwF,CAAG,EAAAxF,GACH,SAAAyF,CAAQ,EAAAzF,GACR,KAAAI,CAAI,EAAAJ,GACJ,YAAA0F,CAAW,EAAA1F,GACX,OAAAK,CAAM,EAAAL,GACN,OAAA/D,CAAM,EAAA+D,GACN,KAAAtC,CAAI,EAAAsC,GACJ,WAAAE,EAAU,EAAAF,GACV,YAAAf,EAAW,EAAAe,GACX,EAAA/B,EAAC,EAAA+B,GACD,iBAAAmD,CAAgB,EAAAnD,GAChB,WAAAuD,EAAU,EAAAvD,GACV,UAAA2F,EAAS,EAAA3F,GACT,WAAAiD,CAAU,EAAAjD,GACV,UAAAkD,EAAS,EAAAlD,GACT,WAAArB,EAAU,EAAAqB,GACV,cAAAsB,CAAa,EAAAtB,GACb,OAAA4F,EAAM,EAAA5F,WACR6F,GAAcC,EAAIjJ,EAAO,CAChC4I,EAAS,SAAQ,CACf,MAAO5I,EAAQ,MACf,MAAOA,EAAQ,cAcfkJ,gBAqGkBH,WA/CDC,GAAc5H,GAAGpB,CAAO,QAC3BmJ,IAAC,CACTA,EAAE,MAAQ,SACbH,GAAc5H,GAAGpB,CAAO,urCAvD7BkJ,GAAkB,CAChB,KAAMJ,IAAa1C,GAAcC,IAAaC,EAC9C,cAAA7B,EACA,SAAUqE,GACV,WAAA1C,EACA,UAAAC,GACA,WAAAK,GACA,iBAAAJ,EACA,QAASxE,KAAe,SAAWX,EAAS,CAAC,EAAIA,EACjD,SAAUI,IAAS,OAAS,QAAU,OACtC,OAAQ6G,EACR,OAAAzB;;;;oLC1DkByC,GAAAC,EAAA,gBAAAxG,OAAW,SAAW,oBAAsB,MAAM,UALxE1D,EAaKC,EAAAiK,EAAA/J,CAAA,iBARiB8J,GAAAC,EAAA,gBAAAxG,OAAW,SAAW,oBAAsB,MAAM,6CARrD,GAAA,CAAA,OAAA8D,EAAS,QAAQ,EAAAxD,gQCwC7BN,EAAM,CAAA,EAAG8B,GAAQC,SAEhB/B,EAAM,CAAA,EAAG,sBAAwB,qCAD9BA,EAAW,CAAA,CAAA,gFADfA,EAAM,CAAA,EAAG8B,GAAQC,kBAEhB/B,EAAM,CAAA,EAAG,sBAAwB,kIAvCrC,IAAAgC,EAAS,IACF,MAAAzB,CAAK,EAAAD,EACZ2B,WACKC,GAAa,CACpBb,EAAA,EAAAW,EAAS,EAAI,EACTC,GACF,aAAaA,CAAK,EACpBA,EAAQ,gBACNZ,EAAA,EAAAW,EAAS,EAAK,GACb,WAECyE,EAAiB,IAAA,IACjBlG,EAAK,CACD,MAAAmG,EAAqBnG,EAAM,IAAKpD,GAChCA,EAAQ,OAAS,OACT,GAAAA,EAAQ,IAAI,KAAKA,EAAQ,OAAO,MAElCA,EAAQ,IAAI,KAAKA,EAAQ,QAAQ,MAAM,GAAG,EACnD,EAAA,KAAK;AAAA;AAAA,CAAM,EACd,UAAU,UAAU,UAAUuJ,CAAkB,EAAE,MAAOC,GAAG,CAC1D,QAAQ,MAAM,gCAAiCA,CAAG,qBAIzCxE,GAAW,CACpB,cAAe,YACjBsE,IACAvE,KAGJ,OAAAI,GAAS,IAAA,CACHL,GACF,aAAaA,CAAK,8TC+LH,MAAA2E,EAAAC,EAAS,EAAA,EAAA,CAAC,EAAE,OAAS,OAAS,OAAS,cACjC,MAAAC,EAAAD,MAAcA,EAAI,EAAA,IAAK,OAAS,EAAI,CAAC,UAC5B,MAAAE,EAAAF,MAAcA,EAAI,EAAA,IAAK,OAAS,EAAI,CAAC,sWAtC7DG,krBAFHhH,EAAiB,CAAA,GAAAiH,GAAAjH,CAAA,EAoBJkH,EAAA,IAAAC,GAAA,CAAA,MAAA,CAAA,KAAAC,SAAiD,OAAO,CAAA,CAAA,6BAErEpH,EAAoB,CAAA,GAAAqH,GAAArH,CAAA,mJAtBpBA,EAAiB,CAAA,8GAsBjBA,EAAoB,CAAA,mRAsEnBiF,EAAAjF,QAAgB,MAAIsH,GAAAtH,CAAA,EAKpB6E,EAAA7E,QAAa,MAAIuH,GAAAvH,CAAA,yGANvB1D,EAgDKC,EAAAiL,EAAA/K,CAAA,oDA/CCuD,QAAgB,yGAKhBA,QAAa,gOA5DXA,EAAe,EAAA,CAAA,uBAApB,OAAIzB,GAAA,kEAiDDyB,EAAe,CAAA,GAAAgD,GAAAhD,CAAA,8HAlDrB1D,EAqDKC,EAAAiL,EAAA/K,CAAA,uJApDGuD,EAAe,EAAA,CAAA,oBAApB,OAAIzB,GAAA,EAAA,wGAAJ,OAAIA,EAAA+G,EAAA,OAAA/G,GAAA,WAiDDyB,EAAe,CAAA,iIAjDlB,OAAIzB,GAAA,gMAyDeyB,EAAW,EAAA,wHAD/B1D,EAEKC,EAAAiL,EAAA/K,CAAA,8DADeuD,EAAW,EAAA,+LAKvBA,EAAQ,EAAA,CAAA,uBAAb,OAAIzB,GAAA,qKADPjC,EAuCKC,EAAAiL,EAAA/K,CAAA,+FAtCGuD,EAAQ,EAAA,CAAA,oBAAb,OAAIzB,GAAA,EAAA,2GAAJ,OAAIA,EAAA+G,EAAA,OAAA/G,GAAA,yCAAJ,OAAIA,GAAA,qLASIyB,EAAO,EAAA,EAAC,KAAK,uHAHpB1D,EAMKC,EAAAiL,EAAA/K,CAAA,2DAHEuD,EAAO,EAAA,EAAC,KAAK,0HAQQ0E,EAAA1E,MAAQ,KAAI,sFAAxC1D,EAA+CC,EAAAkL,EAAAhL,CAAA,iBAAnByD,EAAA,CAAA,EAAA,SAAAwE,KAAAA,EAAA1E,MAAQ,KAAI,KAAAwE,GAAAC,EAAAC,CAAA,uCAFJA,EAAA1E,MAAQ,aAAY,8FAAxD1D,EAA+DC,EAAAkL,EAAAhL,CAAA,iBAA3ByD,EAAA,CAAA,EAAA,SAAAwE,KAAAA,EAAA1E,MAAQ,aAAY,KAAAwE,GAAAC,EAAAC,CAAA,yCAkBjDA,EAAA1E,EAAQ,EAAA,EAAA,MAAM,CAAC,EAAE,UAAS,gGADjC1D,EAEAC,EAAAkL,EAAAhL,CAAA,EADEC,EAAqC+K,EAAAC,CAAA,iBAAhCxH,EAAA,CAAA,EAAA,SAAAwE,KAAAA,EAAA1E,EAAQ,EAAA,EAAA,MAAM,CAAC,EAAE,UAAS,KAAAwE,GAAAC,EAAAC,CAAA,iGAN1B,IAAA1E,EAAQ,EAAA,EAAA,MAAM,CAAC,EAAE,yHAHxB1D,EAMKC,EAAAiL,EAAA/K,CAAA,sCAHEyD,EAAA,CAAA,EAAA,UAAAkE,EAAA,IAAApE,EAAQ,EAAA,EAAA,MAAM,CAAC,EAAE,8HANjBA,EAAO,EAAA,EAAC,MAAM,OAAM,qDAAC,QAAM,oDADlC1D,EAEAC,EAAAkL,EAAAhL,CAAA,EADEC,EAAqC+K,EAAAC,CAAA,6CAAhC1H,EAAO,EAAA,EAAC,MAAM,OAAM,KAAAwE,GAAAmD,EAAAC,CAAA,mEAhBvB5H,EAAO,EAAA,EAAC,OAAS,QAAS6H,GAAA7H,CAAA,yBAS1BA,EAAO,EAAA,EAAC,eAAiB,OAAS8H,8FAKlC9H,EAAO,EAAA,EAAC,QAAU,QAAaA,EAAO,EAAA,EAAC,MAAM,OAAS,EAAC,kBAIlDA,EAAO,EAAA,EAAC,QAAU,QAAaA,EAAO,EAAA,EAAC,MAAM,CAAC,IAAM,QAAaA,EAAQ,EAAA,EAAA,MAAM,CAAC,EAAE,WAAW,SAAS,OAAO,QAQ7GA,EAAO,EAAA,EAAC,QAAU,QAAaA,EAAO,EAAA,EAAC,MAAM,CAAC,IAAM,OAAS,oMA9BxE1D,EAmCQC,EAAAwE,EAAAtE,CAAA,kHA/BFuD,EAAO,EAAA,EAAC,OAAS,kkBA7DbA,EAAoB,EAAA,CAAA,GAAAuC,EAAAwF,EAAA,MAAAC,CAAA,YAAOhI,EAAwB,EAAA,CAAA,qDAD9D1D,EASKC,EAAAiL,EAAA/K,CAAA,EARJC,EAAgE8K,EAAAO,CAAA,2DAAtD/H,EAAoB,EAAA,CAAA,yCAAOA,EAAwB,EAAA,CAAA,+KAGrD,OAAAkH,EAAA,IAAAC,GAAA,CAAA,MAAA,CAAA,KAAAc,SAEC,OAAO,CAAA,CAAA,kLAPbjI,EAAqB,EAAA,GAAA+C,GAAA/C,CAAA,icAqCd,UAAAA,QAAS,OAASA,MAAYA,EAAiB,EAAA,EAAGA,EAAQ,CAAA,EACzD,WAAAA,EAAc,EAAA,GAAApB,GAAoBoB,MAAUA,EAAK,CAAA,CAAA,EAClD,UAAAA,EAAa,EAAA,GAAApB,GAAoBoB,MAAUA,EAAK,CAAA,CAAA,yCAGnD,OAAAA,MAAa,OAAMkI,kGA1CvBlI,EAAqB,EAAA,szBAqCdE,EAAA,CAAA,EAAA,SAAAA,EAAA,CAAA,EAAA,IAAAiI,EAAA,UAAAnI,QAAS,OAASA,MAAYA,EAAiB,EAAA,EAAGA,EAAQ,CAAA,GACzDE,EAAA,CAAA,EAAA,QAAAA,EAAA,CAAA,EAAA,IAAAiI,EAAA,WAAAnI,EAAc,EAAA,GAAApB,GAAoBoB,MAAUA,EAAK,CAAA,CAAA,GAClDE,EAAA,CAAA,EAAA,SAAAA,EAAA,CAAA,EAAA,IAAAiI,EAAA,UAAAnI,EAAa,EAAA,GAAApB,GAAoBoB,MAAUA,EAAK,CAAA,CAAA,ueAkEvDoI,qDAGIpI,EAAgB,EAAA,CAAA,qGAL5B1D,EAOKC,EAAAiL,EAAA/K,CAAA,gJAzJDwI,EAAAjF,OAAU,MAAQA,EAAM,CAAA,EAAA,OAAS,GAACqI,GAAArI,CAAA,8CAqCjCA,EAAK,CAAA,IAAK,MAAQA,EAAK,CAAA,EAAC,OAAS,GAAKA,EAAe,EAAA,IAAK,KAAI,gCA4G/DA,EAAkB,EAAA,GAAAc,GAAAd,CAAA,kEAlHfuC,EAAAiF,EAAA,QAAAc,EAAAC,GAAAvI,QAAW,SAAW,cAAgB,YAAY,EAAA,gBAAA,oHAD1D1D,EAiHKC,EAAAiL,EAAA/K,CAAA,qEA/IAuD,OAAU,MAAQA,EAAM,CAAA,EAAA,OAAS,gPA+B9B,CAAAyC,GAAAvC,EAAA,CAAA,EAAA,QAAAoI,KAAAA,EAAAC,GAAAvI,QAAW,SAAW,cAAgB,YAAY,EAAA,mCAkHrDA,EAAkB,EAAA,kSApTZ,MAAAO,EAAK,EAAA,EAAAD,EACZkI,EAAY,MAEL,OAAA5H,CAAM,EAAAN,GACN,eAAAd,CAAc,EAAAc,EACrBf,EAAW,CAAA,QACTkJ,EAAU,OAAU,OAAW,mBACtBC,GAAiB,MAC9BnJ,EAAW,MAASF,GAClBS,GAA6BS,CAAK,EAClChB,EACAC,CAAA,CAAA,MAKO,iBAAAmG,CAAgB,EAAArF,EAChB,CAAA,gBAAAqI,EAAkB,EAAK,EAAArI,EACvB,CAAA,WAAAuD,EAAa,EAAK,EAAAvD,EAClB,CAAA,WAAAuF,EAAa,EAAK,EAAAvF,EAClB,CAAA,SAAAgD,EAAW,EAAK,EAAAhD,EAChB,CAAA,kBAAAsI,EAAoB,EAAK,EAAAtI,EACzB,CAAA,qBAAAuI,EAAuB,EAAK,EAAAvI,EAC5B,CAAA,IAAAwF,EAAM,EAAK,EAAAxF,EACX,CAAA,iBAAAmD,EAAmB,EAAK,EAAAnD,GACxB,cAAAwI,EAAa,CAAI,KAAM,IAAI,CAAA,EAAAxI,EAC3B,CAAA,cAAAsF,EAAgB,EAAI,EAAAtF,EACpB,CAAA,kBAAAmF,GAAoB,EAAI,EAAAnF,EACxB,CAAA,gBAAAoF,GAAkB,EAAI,EAAApF,EACtB,CAAA,YAAA0F,GAAc,EAAI,EAAA1F,EAClB,CAAA,WAAAyI,EAAa,EAAI,EAAAzI,GACjB,WAAAE,EAAU,EAAAF,GACV,KAAAI,EAAI,EAAAJ,EACJ,CAAA,OAAAwD,EAAS,QAAQ,EAAAxD,EACjB,CAAA,YAAA0I,GAAc,IAAI,EAAA1I,GAClB,OAAAK,EAAM,EAAAL,EACN,CAAA,WAAArB,EAAa,QAAQ,EAAAqB,EACrB,CAAA,SAAA2I,GAAW,IAAI,EAAA3I,EACf,CAAA,WAAA4I,GAAa,EAAK,EAAA5I,EAClB,CAAA,UAAA6I,GAAY,EAAK,EAAA7I,EACjB,CAAA,kBAAA8I,GAAoB,EAAK,EAAA9I,GACzB,KAAAtC,EAAI,EAAAsC,EACX/D,GAAS,KACb8M,GAAO,IAAA,CACLhI,EAAA,GAAA9E,GAAS,SAAS,cAAc,sBAAsB,CAAA,QAEpDsE,EACAyI,EAAqB,GACnB,MAAAvD,EAAWwD,cACRC,IAAY,CACZ,OAAA3I,GAAOA,EAAI,aAAeA,EAAI,UAAYA,EAAI,aAAe,aAE7D4I,IAAgB,CAClB5I,IAELA,EAAI,SAAS,EAAGA,EAAI,YAAY,EAChCQ,EAAA,GAAAiI,EAAqB,EAAK,kBASbI,IAAsB,CAC9BX,IAEDS,GAAY,SAERG,GAAI,EACVF,MAEApI,EAAA,GAAAiI,EAAqB,EAAI,GAG7BD,GAAO,IAAA,CACLK,OAMFL,GAAO,IAAA,UACIO,GAAa,CAChBJ,GAAY,GACdnI,EAAA,GAAAiI,EAAqB,EAAK,EAK9B,OAAAzI,GAAK,iBAAiB,SAAU+I,CAAa,OAE3C/I,GAAK,oBAAoB,SAAU+I,CAAa,SAGhDC,GACAC,GACAC,GAAwB,GAC5BC,GAAW,IAAA,CACJnJ,GAELA,EAAI,iBAAiB,KAAK,EAAE,QAASoJ,GAAC,CACpCA,EAAE,iBAAiB,QAAU3D,GAAC,OACtB4D,EAAU5D,EAAE,OACd4D,SACFL,GAAuBK,EAAQ,GAAG,OAClCJ,GAA2BI,EAAQ,GAAG,EACtC7I,EAAA,GAAA0I,GAAwB,EAAI,kBAa3BI,GAAsB5L,EAAG6L,EAAO,CACvCrE,EAAS,iBAAgB,CACvB,MAAOxH,EACP,MAAK,CAAI,KAAM6L,EAAQ,KAAM,MAAOA,EAAQ,KAAK,IAG5C,SAAAC,GAAY9L,EAAGpB,EAAS0E,EAAQ,CACnC,GAAAA,IAAa,QAAUA,IAAa,QAAO,CACvC,MAAAyI,GAAO/J,EACT,IAAAxB,GAAauL,GAAK,OAAS,EACxB,KAAAA,GAAKvL,EAAU,EAAE,OAAS,aAC/BA,KAEFgH,EAASlE,EAAQ,CACf,MAAOyI,GAAKvL,EAAU,EAAE,MACxB,MAAOuL,GAAKvL,EAAU,EAAE,iBAIxB,GAAAE,IAAe,SACjB8G,EAAS,OAAM,CACb,MAAO5I,EAAQ,MACf,MAAOA,EAAQ,QACf,MAAO0E,IAAa,kBAGjB3C,EAAe,aAEdqL,GAAgBrL,EAAgBX,CAAC,EAChC,CAAAiM,GAAOC,EAAI,EAChB,CAAAF,GAAc,CAAC,EACfA,GAAcA,GAAc,OAAS,CAAC,CAAA,EAExCxE,EAAS,OAAM,CACb,OAAQyE,GAAM,MAAOC,GAAK,KAAK,EAC/B,MAAOF,GAAc,IAAKnH,IAAMA,GAAE,OAAO,EACzC,MAAOvB,IAAa,uCAcd6I,EAAS,MAAS1N,GAAwBuD,CAAK,EACrDwF,EAAS,QACR,CAAA,YAAa2E,CAAA,CAAA,QAENpE,EAAC,CACT,QAAQ,MAAMA,CAAC,MACXnJ,EAAUmJ,aAAaqE,GAAarE,EAAE,QAAU,gBACpDP,EAAS,QAAS5I,CAAO,IAOY6G,GAAA,IAAA+B,EAAS,OAAO,EA2BlC6E,EAAA,IAAAvJ,EAAA,GAAA0I,GAAwB,EAAK,UAmCjClI,IAAawI,GAAY9L,EAAGD,EAAS,CAAC,EAAGuD,CAAQ,YAoB/CsI,GAAsB5L,EAAG6L,CAAO,6CAxE3CvJ,EAAGgK,+tCApLNnC,EAAiB,4BAiEpBnI,GAASoI,GAAmBpJ,IAC9BmK,0CAiCGoB,GAAOvK,EAAOiI,CAAS,IAC1BnH,EAAA,GAAAmH,EAAYjI,CAAK,EACjBwF,EAAS,QAAQ,2BAGpB1E,EAAA,GACCnC,EAAkBqB,GAASvB,GAAeuB,EAAOtB,CAAU,CAAA,kvGC/E9C,WAAAe,MAAO,YACb,CAAA,KAAAA,MAAO,IAAI,EACbA,EAAc,EAAA,iBACHA,EAAc,EAAA,EAAC,gBAAkB,SAC7C,SACA,sNALS,WAAAA,MAAO,YACbE,EAAA,CAAA,EAAA,UAAA,CAAA,KAAAF,MAAO,IAAI,qBACbA,EAAc,EAAA,CAAA,iCACHA,EAAc,EAAA,EAAC,gBAAkB,SAC7C,SACA,8KAQI+K,SACC,GACA,MAAA/K,MAAS,0GAATE,EAAA,CAAA,EAAA,KAAA8K,EAAA,MAAAhL,MAAS,oIAjBdA,EAAc,EAAA,GAAAiD,GAAAjD,CAAA,IAYbA,EAAU,CAAA,GAAAc,GAAAd,CAAA,0BASR,KAAAA,MAAO,gBACDA,EAAW,CAAA,yEAIhBA,EAAM,EAAA,gFAIIA,EAAc,EAAA,GAAE,SAAW,qBAChCA,EAAc,EAAA,GAAE,SAAW,kRA4BvB,eAAAA,MAAO,0BACXA,EAAI,EAAA,EACV,KAAAA,MAAO,+UAlDf1D,EAoDKC,EAAAsE,EAAApE,CAAA,iDA/DAuD,EAAc,EAAA,oHAYbA,EAAU,CAAA,8GASRE,EAAA,CAAA,EAAA,WAAA+K,EAAA,KAAAjL,MAAO,8BACDA,EAAW,CAAA,iIAIhBA,EAAM,EAAA,mJAIIA,EAAc,EAAA,GAAE,SAAW,yCAChCA,EAAc,EAAA,GAAE,SAAW,4gBA4BvBE,EAAA,CAAA,EAAA,WAAA+K,EAAA,eAAAjL,MAAO,2CACXA,EAAI,EAAA,GACVE,EAAA,CAAA,EAAA,WAAA+K,EAAA,KAAAjL,MAAO,uPAvEN,2FAMO,QACV,0hBAnDI,GAAA,CAAA,QAAAkL,EAAU,EAAE,EAAA5K,GACZ,aAAA6K,EAAY,EAAA,EAAA7K,EACZ,CAAA,QAAA8K,EAAU,EAAI,EAAA9K,GACd,MAAAC,EAAK,EAAA,EAAAD,EACL,CAAA,MAAA+K,EAAQ,IAAI,EAAA/K,EACZ,CAAA,UAAAgL,QAAkB,EAAAhL,GAClB,MAAAiL,CAAK,EAAAjL,EACL,CAAA,WAAAkL,EAAa,EAAI,EAAAlL,GACjB,KAAAtC,CAAI,EAAAsC,EACJ,CAAA,YAAAmL,EAAc,EAAK,EAAAnL,EACnB,CAAA,SAAAgD,EAAW,EAAK,EAAAhD,EAChB,CAAA,kBAAAsI,EAAoB,EAAK,EAAAtI,EACzB,CAAA,IAAAwF,EAAM,EAAK,EAAAxF,EACX,CAAA,iBAAAmD,EAAmB,EAAI,EAAAnD,EACvB,CAAA,qBAAAuI,EAAuB,EAAK,EAAAvI,EAC5B,CAAA,cAAAsF,EAAgB,EAAI,EAAAtF,EACpB,CAAA,kBAAAmF,EAAoB,EAAI,EAAAnF,EACxB,CAAA,OAAAwD,EAAS,QAAQ,EAAAxD,EACjB,CAAA,KAAAD,EAAO,QAAQ,EAAAC,EACf,CAAA,gBAAAoF,GAAkB,EAAI,EAAApF,EACtB,CAAA,YAAA0F,GAAc,EAAI,EAAA1F,EAClB,CAAA,WAAAyI,GAAa,EAAI,EAAAzI,EACjB,CAAA,WAAA4I,EAAa,EAAK,EAAA5I,EAClB,CAAA,UAAA6I,GAAY,EAAK,EAAA7I,GACjB,iBAAAqF,EAAgB,EAAArF,GAChB,OAAAoL,CAAM,EAAApL,EACbqL,GAAM,CAAA,GAGC,cAAA7C,GAAa,CAAI,KAAM,IAAI,CAAA,EAAAxI,EAC3B,CAAA,kBAAA8I,EAAoB,EAAK,EAAA9I,EACzB,CAAA,eAAAsL,SAAuB,EAAAtL,GACvB,OAAAuL,EAAM,EAAAvL,GACN,WAAAwL,EAAU,EAAAxL,GACV,WAAAyL,EAAU,EAAAzL,EACV,CAAA,YAAA0I,GAAc,IAAI,EAAA1I,EAClB,CAAA,SAAA2I,GAAW,IAAI,EAAA3I,GACf,WAAAE,CAAU,EAAAF,EAyBK,MAAA0L,EAAA,IAAAN,EAAO,SAAS,eAAgBE,EAAc,EAiDzD3L,EAAA,IAAAgM,IAASP,EAAO,OAAO,UAAUO,CAAI,EACrC/D,GAAA,IAAA+D,IAASP,EAAO,OAAO,SAASO,CAAI,EAvB/BC,GAAA,IAAAR,EAAO,SAAS,SAAUnL,CAAK,KACpC+F,GAAMoF,EAAO,SAAS,SAAUpF,EAAE,MAAM,KAC1CA,GAAMoF,EAAO,SAAS,OAAQpF,EAAE,MAAM,KACrCA,GAAMoF,EAAO,SAAS,QAASpF,EAAE,MAAM,KACvCA,GAAMoF,EAAO,SAAS,QAASpF,EAAE,MAAM,KAC9BA,GAAMoF,EAAO,SAAS,iBAAkBpF,EAAE,MAAM,KACzDA,GAAMoF,EAAO,SAAS,QAASpF,EAAE,MAAM,KACxCA,GAAMoF,EAAO,SAAS,OAAQpF,EAAE,MAAM,cAE/C/F,EAAK,CAAA,CAAA,EACLmL,EAAO,SAAS,OAAO,g7CAvEzBrK,EAAA,GAAAsK,GAAStL,IAAS,SAAW7B,GAAiB+B,EAAOvC,CAAI,EAAIK,GAAmBkC,EAAOvC,CAAI,CAAA"}