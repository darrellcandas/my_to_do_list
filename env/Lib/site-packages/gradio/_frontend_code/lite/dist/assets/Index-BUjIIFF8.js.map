{"version":3,"file":"Index-BUjIIFF8.js","sources":["../../../dataframe/dist/shared/EditableCell.svelte","../../../dataframe/dist/shared/VirtualTable.svelte","../../../dataframe/dist/shared/Arrow.svelte","../../../dataframe/dist/shared/CellMenu.svelte","../../../dataframe/dist/shared/Table.svelte","../../../dataframe/dist/Index.svelte"],"sourcesContent":["<script>import { createEventDispatcher } from \"svelte\";\nimport { MarkdownCode } from \"@gradio/markdown-code\";\nexport let edit;\nexport let value = \"\";\nexport let display_value = null;\nexport let styling = \"\";\nexport let header = false;\nexport let datatype = \"str\";\nexport let latex_delimiters;\nexport let clear_on_focus = false;\nexport let select_on_focus = false;\nexport let line_breaks = true;\nexport let editable = true;\nexport let root;\nconst dispatch = createEventDispatcher();\nexport let el;\n$:\n  _value = value;\nfunction use_focus(node) {\n  if (clear_on_focus) {\n    _value = \"\";\n  }\n  if (select_on_focus) {\n    node.select();\n  }\n  node.focus();\n  return {};\n}\nfunction handle_blur({\n  currentTarget\n}) {\n  value = currentTarget.value;\n  dispatch(\"blur\");\n}\n</script>\n\n{#if edit}\n\t<input\n\t\trole=\"textbox\"\n\t\tbind:this={el}\n\t\tbind:value={_value}\n\t\tclass:header\n\t\ttabindex=\"-1\"\n\t\ton:blur={handle_blur}\n\t\tuse:use_focus\n\t\ton:keydown\n\t/>\n{/if}\n\n<span\n\ton:dblclick\n\ttabindex=\"-1\"\n\trole=\"button\"\n\tclass:edit\n\ton:focus|preventDefault\n\tstyle={styling}\n>\n\t{#if datatype === \"html\"}\n\t\t{@html value}\n\t{:else if datatype === \"markdown\"}\n\t\t<MarkdownCode\n\t\t\tmessage={value.toLocaleString()}\n\t\t\t{latex_delimiters}\n\t\t\t{line_breaks}\n\t\t\tchatbot={false}\n\t\t\t{root}\n\t\t/>\n\t{:else}\n\t\t{editable ? value : display_value || value}\n\t{/if}\n</span>\n\n<style>\n\tinput {\n\t\tposition: absolute;\n\t\ttop: var(--size-2);\n\t\tright: var(--size-2);\n\t\tbottom: var(--size-2);\n\t\tleft: var(--size-2);\n\t\tflex: 1 1 0%;\n\t\ttransform: translateX(-0.1px);\n\t\toutline: none;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t}\n\n\tspan {\n\t\tflex: 1 1 0%;\n\t\toutline: none;\n\t\tpadding: var(--size-2);\n\t\t-webkit-user-select: text;\n\t\t-moz-user-select: text;\n\t\t-ms-user-select: text;\n\t\tuser-select: text;\n\t}\n\n\t.header {\n\t\ttransform: translateX(0);\n\t\tfont: var(--weight-bold);\n\t}\n\n\t.edit {\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n</style>\n","<script>import { onMount, tick } from \"svelte\";\nimport { _ } from \"svelte-i18n\";\nexport let items = [];\nexport let max_height;\nexport let actual_height;\nexport let table_scrollbar_width;\nexport let start = 0;\nexport let end = 20;\nexport let selected;\nlet height = \"100%\";\nlet average_height = 30;\nlet bottom = 0;\nlet contents;\nlet head_height = 0;\nlet foot_height = 0;\nlet height_map = [];\nlet mounted;\nlet rows;\nlet top = 0;\nlet viewport;\nlet viewport_height = 200;\nlet visible = [];\nlet viewport_box;\n$:\n  viewport_height = viewport_box?.height || 200;\nconst is_browser = typeof window !== \"undefined\";\nconst raf = is_browser ? window.requestAnimationFrame : (cb) => cb();\n$:\n  mounted && raf(() => refresh_height_map(sortedItems));\nlet content_height = 0;\nasync function refresh_height_map(_items) {\n  if (viewport_height === 0) {\n    return;\n  }\n  const { scrollTop } = viewport;\n  table_scrollbar_width = viewport.offsetWidth - viewport.clientWidth;\n  content_height = top - (scrollTop - head_height);\n  let i = start;\n  while (content_height < max_height && i < _items.length) {\n    let row = rows[i - start];\n    if (!row) {\n      end = i + 1;\n      await tick();\n      row = rows[i - start];\n    }\n    let _h = row?.getBoundingClientRect().height;\n    if (!_h) {\n      _h = average_height;\n    }\n    const row_height = height_map[i] = _h;\n    content_height += row_height;\n    i += 1;\n  }\n  end = i;\n  const remaining = _items.length - end;\n  const scrollbar_height = viewport.offsetHeight - viewport.clientHeight;\n  if (scrollbar_height > 0) {\n    content_height += scrollbar_height;\n  }\n  let filtered_height_map = height_map.filter((v) => typeof v === \"number\");\n  average_height = filtered_height_map.reduce((a, b) => a + b, 0) / filtered_height_map.length;\n  bottom = remaining * average_height;\n  height_map.length = _items.length;\n  await tick();\n  if (!max_height) {\n    actual_height = content_height + 1;\n  } else if (content_height < max_height) {\n    actual_height = content_height + 2;\n  } else {\n    actual_height = max_height;\n  }\n  await tick();\n}\n$:\n  scroll_and_render(selected);\nasync function scroll_and_render(n) {\n  raf(async () => {\n    if (typeof n !== \"number\")\n      return;\n    const direction = typeof n !== \"number\" ? false : is_in_view(n);\n    if (direction === true) {\n      return;\n    }\n    if (direction === \"back\") {\n      await scroll_to_index(n, { behavior: \"instant\" });\n    }\n    if (direction === \"forwards\") {\n      await scroll_to_index(n, { behavior: \"instant\" }, true);\n    }\n  });\n}\nfunction is_in_view(n) {\n  const current = rows && rows[n - start];\n  if (!current && n < start) {\n    return \"back\";\n  }\n  if (!current && n >= end - 1) {\n    return \"forwards\";\n  }\n  const { top: viewport_top } = viewport.getBoundingClientRect();\n  const { top: top2, bottom: bottom2 } = current.getBoundingClientRect();\n  if (top2 - viewport_top < 37) {\n    return \"back\";\n  }\n  if (bottom2 - viewport_top > viewport_height) {\n    return \"forwards\";\n  }\n  return true;\n}\nfunction get_computed_px_amount(elem, property) {\n  if (!elem) {\n    return 0;\n  }\n  const compStyle = getComputedStyle(elem);\n  let x = parseInt(compStyle.getPropertyValue(property));\n  return x;\n}\nasync function handle_scroll(e) {\n  const scroll_top = viewport.scrollTop;\n  rows = contents.children;\n  const is_start_overflow = sortedItems.length < start;\n  const row_top_border = get_computed_px_amount(rows[1], \"border-top-width\");\n  const actual_border_collapsed_width = 0;\n  if (is_start_overflow) {\n    await scroll_to_index(sortedItems.length - 1, { behavior: \"auto\" });\n  }\n  let new_start = 0;\n  for (let v = 0; v < rows.length; v += 1) {\n    height_map[start + v] = rows[v].getBoundingClientRect().height;\n  }\n  let i = 0;\n  let y = head_height + row_top_border / 2;\n  let row_heights = [];\n  while (i < sortedItems.length) {\n    const row_height = height_map[i] || average_height;\n    row_heights[i] = row_height;\n    if (y + row_height + actual_border_collapsed_width > scroll_top) {\n      new_start = i;\n      top = y - (head_height + row_top_border / 2);\n      break;\n    }\n    y += row_height;\n    i += 1;\n  }\n  new_start = Math.max(0, new_start);\n  while (i < sortedItems.length) {\n    const row_height = height_map[i] || average_height;\n    y += row_height;\n    i += 1;\n    if (y > scroll_top + viewport_height) {\n      break;\n    }\n  }\n  start = new_start;\n  end = i;\n  const remaining = sortedItems.length - end;\n  if (end === 0) {\n    end = 10;\n  }\n  average_height = (y - head_height) / end;\n  let remaining_height = remaining * average_height;\n  while (i < sortedItems.length) {\n    i += 1;\n    height_map[i] = average_height;\n  }\n  bottom = remaining_height;\n  if (!isFinite(bottom)) {\n    bottom = 2e5;\n  }\n}\nexport async function scroll_to_index(index, opts, align_end = false) {\n  await tick();\n  const _itemHeight = average_height;\n  let distance = index * _itemHeight;\n  if (align_end) {\n    distance = distance - viewport_height + _itemHeight + head_height;\n  }\n  const scrollbar_height = viewport.offsetHeight - viewport.clientHeight;\n  if (scrollbar_height > 0) {\n    distance += scrollbar_height;\n  }\n  const _opts = {\n    top: distance,\n    behavior: \"smooth\",\n    ...opts\n  };\n  viewport.scrollTo(_opts);\n}\n$:\n  sortedItems = items;\n$:\n  visible = is_browser ? sortedItems.slice(start, end).map((data, i) => {\n    return { index: i + start, data };\n  }) : sortedItems.slice(0, max_height / sortedItems.length * average_height + 1).map((data, i) => {\n    return { index: i + start, data };\n  });\n$:\n  actual_height = visible.length * average_height + 10;\nonMount(() => {\n  rows = contents.children;\n  mounted = true;\n  refresh_height_map(items);\n});\n</script>\n\n<svelte-virtual-table-viewport>\n\t<table\n\t\tclass=\"table\"\n\t\tbind:this={viewport}\n\t\tbind:contentRect={viewport_box}\n\t\ton:scroll={handle_scroll}\n\t\tstyle=\"height: {height}; --bw-svt-p-top: {top}px; --bw-svt-p-bottom: {bottom}px; --bw-svt-head-height: {head_height}px; --bw-svt-foot-height: {foot_height}px; --bw-svt-avg-row-height: {average_height}px\"\n\t>\n\t\t<thead class=\"thead\" bind:offsetHeight={head_height}>\n\t\t\t<slot name=\"thead\" />\n\t\t</thead>\n\t\t<tbody bind:this={contents} class=\"tbody\">\n\t\t\t{#if visible.length && visible[0].data.length}\n\t\t\t\t{#each visible as item (item.data[0].id)}\n\t\t\t\t\t<slot name=\"tbody\" item={item.data} index={item.index}>\n\t\t\t\t\t\tMissing Table Row\n\t\t\t\t\t</slot>\n\t\t\t\t{/each}\n\t\t\t{/if}\n\t\t</tbody>\n\t\t<tfoot class=\"tfoot\" bind:offsetHeight={foot_height}>\n\t\t\t<slot name=\"tfoot\" />\n\t\t</tfoot>\n\t</table>\n</svelte-virtual-table-viewport>\n\n<style>\n\ttable {\n\t\tposition: relative;\n\t\toverflow-y: scroll;\n\t\toverflow-x: scroll;\n\t\t-webkit-overflow-scrolling: touch;\n\t\tmax-height: 100vh;\n\t\tbox-sizing: border-box;\n\t\tdisplay: block;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--input-text-size);\n\t\tline-height: var(--line-md);\n\t\tfont-family: var(--font-mono);\n\t\tborder-spacing: 0;\n\t\twidth: 100%;\n\t\tscroll-snap-type: x proximity;\n\t\tborder-collapse: separate;\n\t}\n\ttable :is(thead, tfoot, tbody) {\n\t\tdisplay: table;\n\t\ttable-layout: fixed;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\n\ttbody {\n\t\toverflow-x: scroll;\n\t\toverflow-y: hidden;\n\t}\n\n\ttable tbody {\n\t\tpadding-top: var(--bw-svt-p-top);\n\t\tpadding-bottom: var(--bw-svt-p-bottom);\n\t}\n\ttbody {\n\t\tposition: relative;\n\t\tbox-sizing: border-box;\n\t\tborder: 0px solid currentColor;\n\t}\n\n\ttbody > :global(tr:last-child) {\n\t\tborder: none;\n\t}\n\n\ttable :global(td) {\n\t\tscroll-snap-align: start;\n\t}\n\n\ttbody > :global(tr:nth-child(even)) {\n\t\tbackground: var(--table-even-background-fill);\n\t}\n\n\tthead {\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index: var(--layer-1);\n\t\toverflow: hidden;\n\t}\n</style>\n","<script>export let transform;\n</script>\n\n<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\">\n\t<path\n\t\td=\"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\"\n\t\t{transform}\n\t/>\n</svg>\n","<script>import { onMount } from \"svelte\";\nimport Arrow from \"./Arrow.svelte\";\nexport let x;\nexport let y;\nexport let on_add_row_above;\nexport let on_add_row_below;\nexport let on_add_column_left;\nexport let on_add_column_right;\nexport let row;\nexport let i18n;\nlet menu_element;\n$:\n  is_header = row === -1;\nonMount(() => {\n  position_menu();\n});\nfunction position_menu() {\n  if (!menu_element)\n    return;\n  const viewport_width = window.innerWidth;\n  const viewport_height = window.innerHeight;\n  const menu_rect = menu_element.getBoundingClientRect();\n  let new_x = x - 30;\n  let new_y = y - 20;\n  if (new_x + menu_rect.width > viewport_width) {\n    new_x = x - menu_rect.width + 10;\n  }\n  if (new_y + menu_rect.height > viewport_height) {\n    new_y = y - menu_rect.height + 10;\n  }\n  menu_element.style.left = `${new_x}px`;\n  menu_element.style.top = `${new_y}px`;\n}\n</script>\n\n<div bind:this={menu_element} class=\"cell-menu\">\n\t{#if !is_header}\n\t\t<button on:click={() => on_add_row_above()}>\n\t\t\t<Arrow transform=\"rotate(-90 12 12)\" />\n\t\t\t{i18n(\"dataframe.add_row_above\")}\n\t\t</button>\n\t\t<button on:click={() => on_add_row_below()}>\n\t\t\t<Arrow transform=\"rotate(90 12 12)\" />\n\t\t\t{i18n(\"dataframe.add_row_below\")}\n\t\t</button>\n\t{/if}\n\t<button on:click={() => on_add_column_left()}>\n\t\t<Arrow transform=\"rotate(180 12 12)\" />\n\t\t{i18n(\"dataframe.add_column_left\")}\n\t</button>\n\t<button on:click={() => on_add_column_right()}>\n\t\t<Arrow transform=\"rotate(0 12 12)\" />\n\t\t{i18n(\"dataframe.add_column_right\")}\n\t</button>\n</div>\n\n<style>\n\t.cell-menu {\n\t\tposition: fixed;\n\t\tz-index: var(--layer-2);\n\t\tbackground: var(--background-fill-primary);\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--radius-sm);\n\t\tpadding: var(--size-1);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--size-1);\n\t\tbox-shadow: var(--shadow-drop-lg);\n\t\tmin-width: 150px;\n\t}\n\n\t.cell-menu button {\n\t\tbackground: none;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t\ttext-align: left;\n\t\tpadding: var(--size-1) var(--size-2);\n\t\tborder-radius: var(--radius-sm);\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--text-sm);\n\t\ttransition:\n\t\t\tbackground-color 0.2s,\n\t\t\tcolor 0.2s;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: var(--size-2);\n\t}\n\n\t.cell-menu button:hover {\n\t\tbackground-color: var(--background-fill-secondary);\n\t}\n\n\t.cell-menu button :global(svg) {\n\t\tfill: currentColor;\n\t\ttransition: fill 0.2s;\n\t}\n\n\t.cell-menu button:hover :global(svg) {\n\t\tfill: var(--color-accent);\n\t}\n</style>\n","<script>import { createEventDispatcher, tick, onMount } from \"svelte\";\nimport { dsvFormat } from \"d3-dsv\";\nimport { dequal } from \"dequal/lite\";\nimport { copy } from \"@gradio/utils\";\nimport { Upload } from \"@gradio/upload\";\nimport EditableCell from \"./EditableCell.svelte\";\nimport {} from \"@gradio/client\";\nimport VirtualTable from \"./VirtualTable.svelte\";\nimport CellMenu from \"./CellMenu.svelte\";\nexport let datatype;\nexport let label = null;\nexport let show_label = true;\nexport let headers = [];\nexport let values = [];\nexport let col_count;\nexport let row_count;\nexport let latex_delimiters;\nexport let editable = true;\nexport let wrap = false;\nexport let root;\nexport let i18n;\nexport let max_height = 500;\nexport let line_breaks = true;\nexport let column_widths = [];\nexport let upload;\nexport let stream_handler;\nlet selected = false;\nexport let display_value = null;\nexport let styling = null;\nlet t_rect;\nconst dispatch = createEventDispatcher();\nlet editing = false;\nconst get_data_at = (row, col) => data?.[row]?.[col]?.value;\nlet last_selected = null;\n$: {\n  if (selected !== false && !dequal(selected, last_selected)) {\n    const [row, col] = selected;\n    if (!isNaN(row) && !isNaN(col) && data[row]) {\n      dispatch(\"select\", {\n        index: [row, col],\n        value: get_data_at(row, col),\n        row_value: data[row].map((d) => d.value)\n      });\n      last_selected = selected;\n    }\n  }\n}\nlet els = {};\nlet data_binding = {};\nfunction make_id() {\n  return Math.random().toString(36).substring(2, 15);\n}\nfunction make_headers(_head) {\n  let _h = _head || [];\n  if (col_count[1] === \"fixed\" && _h.length < col_count[0]) {\n    const fill = Array(col_count[0] - _h.length).fill(\"\").map((_, i) => `${i + _h.length}`);\n    _h = _h.concat(fill);\n  }\n  if (!_h || _h.length === 0) {\n    return Array(col_count[0]).fill(0).map((_, i) => {\n      const _id = make_id();\n      els[_id] = { cell: null, input: null };\n      return { id: _id, value: JSON.stringify(i + 1) };\n    });\n  }\n  return _h.map((h, i) => {\n    const _id = make_id();\n    els[_id] = { cell: null, input: null };\n    return { id: _id, value: h ?? \"\" };\n  });\n}\nfunction process_data(_values) {\n  const data_row_length = _values.length;\n  return Array(\n    row_count[1] === \"fixed\" ? row_count[0] : data_row_length < row_count[0] ? row_count[0] : data_row_length\n  ).fill(0).map(\n    (_, i) => Array(\n      col_count[1] === \"fixed\" ? col_count[0] : data_row_length > 0 ? _values[0].length : headers.length\n    ).fill(0).map((_2, j) => {\n      const id = make_id();\n      els[id] = els[id] || { input: null, cell: null };\n      const obj = { value: _values?.[i]?.[j] ?? \"\", id };\n      data_binding[id] = obj;\n      return obj;\n    })\n  );\n}\nlet _headers = make_headers(headers);\nlet old_headers;\n$: {\n  if (!dequal(headers, old_headers)) {\n    trigger_headers();\n  }\n}\nfunction trigger_headers() {\n  _headers = make_headers(headers);\n  old_headers = headers.slice();\n  trigger_change();\n}\n$:\n  if (!dequal(values, old_val)) {\n    data = process_data(values);\n    old_val = values;\n  }\nlet data = [[]];\nlet old_val = void 0;\nasync function trigger_change() {\n  dispatch(\"change\", {\n    data: data.map((r) => r.map(({ value }) => value)),\n    headers: _headers.map((h) => h.value),\n    metadata: editable ? null : { display_value, styling }\n  });\n}\nfunction get_sort_status(name, _sort, direction) {\n  if (!_sort)\n    return \"none\";\n  if (headers[_sort] === name) {\n    if (direction === \"asc\")\n      return \"ascending\";\n    if (direction === \"des\")\n      return \"descending\";\n  }\n  return \"none\";\n}\nfunction get_current_indices(id) {\n  return data.reduce(\n    (acc, arr, i) => {\n      const j = arr.reduce(\n        (_acc, _data, k) => id === _data.id ? k : _acc,\n        -1\n      );\n      return j === -1 ? acc : [i, j];\n    },\n    [-1, -1]\n  );\n}\nasync function start_edit(i, j) {\n  if (!editable || dequal(editing, [i, j]))\n    return;\n  editing = [i, j];\n}\nfunction move_cursor(key, current_coords) {\n  const dir = {\n    ArrowRight: [0, 1],\n    ArrowLeft: [0, -1],\n    ArrowDown: [1, 0],\n    ArrowUp: [-1, 0]\n  }[key];\n  const i = current_coords[0] + dir[0];\n  const j = current_coords[1] + dir[1];\n  if (i < 0 && j <= 0) {\n    selected_header = j;\n    selected = false;\n  } else {\n    const is_data = data[i]?.[j];\n    selected = is_data ? [i, j] : selected;\n  }\n}\nlet clear_on_focus = false;\nasync function handle_keydown(event) {\n  if (selected_header !== false && header_edit === false) {\n    switch (event.key) {\n      case \"ArrowDown\":\n        selected = [0, selected_header];\n        selected_header = false;\n        return;\n      case \"ArrowLeft\":\n        selected_header = selected_header > 0 ? selected_header - 1 : selected_header;\n        return;\n      case \"ArrowRight\":\n        selected_header = selected_header < _headers.length - 1 ? selected_header + 1 : selected_header;\n        return;\n      case \"Escape\":\n        event.preventDefault();\n        selected_header = false;\n        break;\n      case \"Enter\":\n        event.preventDefault();\n        break;\n    }\n  }\n  if (!selected) {\n    return;\n  }\n  const [i, j] = selected;\n  switch (event.key) {\n    case \"ArrowRight\":\n    case \"ArrowLeft\":\n    case \"ArrowDown\":\n    case \"ArrowUp\":\n      if (editing)\n        break;\n      event.preventDefault();\n      move_cursor(event.key, [i, j]);\n      break;\n    case \"Escape\":\n      if (!editable)\n        break;\n      event.preventDefault();\n      editing = false;\n      break;\n    case \"Enter\":\n      if (!editable)\n        break;\n      event.preventDefault();\n      if (event.shiftKey) {\n        add_row(i);\n        await tick();\n        selected = [i + 1, j];\n      } else {\n        if (dequal(editing, [i, j])) {\n          editing = false;\n          await tick();\n          selected = [i, j];\n        } else {\n          editing = [i, j];\n        }\n      }\n      break;\n    case \"Backspace\":\n      if (!editable)\n        break;\n      if (!editing) {\n        event.preventDefault();\n        data[i][j].value = \"\";\n      }\n      break;\n    case \"Delete\":\n      if (!editable)\n        break;\n      if (!editing) {\n        event.preventDefault();\n        data[i][j].value = \"\";\n      }\n      break;\n    case \"Tab\":\n      let direction = event.shiftKey ? -1 : 1;\n      let is_data_x = data[i][j + direction];\n      let is_data_y = data?.[i + direction]?.[direction > 0 ? 0 : _headers.length - 1];\n      if (is_data_x || is_data_y) {\n        event.preventDefault();\n        selected = is_data_x ? [i, j + direction] : [i + direction, direction > 0 ? 0 : _headers.length - 1];\n      }\n      editing = false;\n      break;\n    default:\n      if (!editable)\n        break;\n      if ((!editing || editing && dequal(editing, [i, j])) && event.key.length === 1) {\n        clear_on_focus = true;\n        editing = [i, j];\n      }\n  }\n}\nlet active_cell = null;\nasync function handle_cell_click(i, j) {\n  if (active_cell && active_cell.row === i && active_cell.col === j) {\n    active_cell = null;\n  } else {\n    active_cell = { row: i, col: j };\n  }\n  if (dequal(editing, [i, j]))\n    return;\n  header_edit = false;\n  selected_header = false;\n  editing = false;\n  if (!dequal(selected, [i, j])) {\n    selected = [i, j];\n    await tick();\n    parent.focus();\n  }\n}\nlet sort_direction;\nlet sort_by;\nfunction handle_sort(col) {\n  if (typeof sort_by !== \"number\" || sort_by !== col) {\n    sort_direction = \"asc\";\n    sort_by = col;\n  } else {\n    if (sort_direction === \"asc\") {\n      sort_direction = \"des\";\n    } else if (sort_direction === \"des\") {\n      sort_direction = \"asc\";\n    }\n  }\n}\nlet header_edit;\nlet select_on_focus = false;\nlet selected_header = false;\nasync function edit_header(i, _select = false) {\n  if (!editable || col_count[1] !== \"dynamic\" || header_edit === i)\n    return;\n  selected = false;\n  selected_header = i;\n  header_edit = i;\n  select_on_focus = _select;\n}\nfunction end_header_edit(event) {\n  if (!editable)\n    return;\n  switch (event.key) {\n    case \"Escape\":\n    case \"Enter\":\n    case \"Tab\":\n      event.preventDefault();\n      selected = false;\n      selected_header = header_edit;\n      header_edit = false;\n      parent.focus();\n      break;\n  }\n}\nasync function add_row(index) {\n  parent.focus();\n  if (row_count[1] !== \"dynamic\")\n    return;\n  if (data.length === 0) {\n    values = [Array(headers.length).fill(\"\")];\n    return;\n  }\n  const new_row = Array(data[0].length).fill(0).map((_, i) => {\n    const _id = make_id();\n    els[_id] = { cell: null, input: null };\n    return { id: _id, value: \"\" };\n  });\n  if (index !== void 0 && index >= 0 && index <= data.length) {\n    data.splice(index, 0, new_row);\n  } else {\n    data.push(new_row);\n  }\n  data = data;\n  selected = [index !== void 0 ? index : data.length - 1, 0];\n}\n$:\n  (data || selected_header) && trigger_change();\nasync function add_col(index) {\n  parent.focus();\n  if (col_count[1] !== \"dynamic\")\n    return;\n  const insert_index = index !== void 0 ? index : data[0].length;\n  for (let i = 0; i < data.length; i++) {\n    const _id = make_id();\n    els[_id] = { cell: null, input: null };\n    data[i].splice(insert_index, 0, { id: _id, value: \"\" });\n  }\n  headers.splice(insert_index, 0, `Header ${headers.length + 1}`);\n  data = data;\n  headers = headers;\n  await tick();\n  requestAnimationFrame(() => {\n    edit_header(insert_index, true);\n    const new_w = parent.querySelectorAll(\"tbody\")[1].offsetWidth;\n    parent.querySelectorAll(\"table\")[1].scrollTo({ left: new_w });\n  });\n}\nfunction handle_click_outside(event) {\n  if (active_cell_menu && !event.target.closest(\".cell-menu\") || active_header_menu && !event.target.closest(\".cell-menu\")) {\n    active_cell_menu = null;\n    active_header_menu = null;\n  }\n  event.stopImmediatePropagation();\n  const [trigger] = event.composedPath();\n  if (parent.contains(trigger)) {\n    return;\n  }\n  editing = false;\n  header_edit = false;\n  selected_header = false;\n  reset_selection();\n  active_cell = null;\n  active_cell_menu = null;\n  active_header_menu = null;\n}\nfunction guess_delimitaor(text, possibleDelimiters) {\n  return possibleDelimiters.filter(weedOut);\n  function weedOut(delimiter) {\n    var cache = -1;\n    return text.split(\"\\n\").every(checkLength);\n    function checkLength(line) {\n      if (!line) {\n        return true;\n      }\n      var length = line.split(delimiter).length;\n      if (cache < 0) {\n        cache = length;\n      }\n      return cache === length && length > 1;\n    }\n  }\n}\nfunction data_uri_to_blob(data_uri) {\n  const byte_str = atob(data_uri.split(\",\")[1]);\n  const mime_str = data_uri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n  const ab = new ArrayBuffer(byte_str.length);\n  const ia = new Uint8Array(ab);\n  for (let i = 0; i < byte_str.length; i++) {\n    ia[i] = byte_str.charCodeAt(i);\n  }\n  return new Blob([ab], { type: mime_str });\n}\nfunction blob_to_string(blob) {\n  const reader = new FileReader();\n  function handle_read(e) {\n    if (!e?.target?.result || typeof e.target.result !== \"string\")\n      return;\n    const [delimiter] = guess_delimitaor(e.target.result, [\",\", \"\t\"]);\n    const [head, ...rest] = dsvFormat(delimiter).parseRows(e.target.result);\n    _headers = make_headers(\n      col_count[1] === \"fixed\" ? head.slice(0, col_count[0]) : head\n    );\n    values = rest;\n    reader.removeEventListener(\"loadend\", handle_read);\n  }\n  reader.addEventListener(\"loadend\", handle_read);\n  reader.readAsText(blob);\n}\nlet dragging = false;\nfunction get_max(_d) {\n  let max2 = _d[0].slice();\n  for (let i = 0; i < _d.length; i++) {\n    for (let j = 0; j < _d[i].length; j++) {\n      if (`${max2[j].value}`.length < `${_d[i][j].value}`.length) {\n        max2[j] = _d[i][j];\n      }\n    }\n  }\n  return max2;\n}\n$:\n  max = get_max(data);\n$:\n  cells[0] && set_cell_widths();\nlet cells = [];\nlet parent;\nlet table;\nfunction set_cell_widths() {\n  const widths = cells.map((el, i) => {\n    return el?.clientWidth || 0;\n  });\n  if (widths.length === 0)\n    return;\n  for (let i = 0; i < widths.length; i++) {\n    parent.style.setProperty(\n      `--cell-width-${i}`,\n      `${widths[i] - scrollbar_width / widths.length}px`\n    );\n  }\n}\nlet table_height = values.slice(0, max_height / values.length * 37).length * 37 + 37;\nlet scrollbar_width = 0;\nfunction sort_data(_data, _display_value, _styling, col, dir) {\n  let id = null;\n  if (selected && selected[0] in data && selected[1] in data[selected[0]]) {\n    id = data[selected[0]][selected[1]].id;\n  }\n  if (typeof col !== \"number\" || !dir) {\n    return;\n  }\n  const indices = [...Array(_data.length).keys()];\n  if (dir === \"asc\") {\n    indices.sort(\n      (i, j) => _data[i][col].value < _data[j][col].value ? -1 : 1\n    );\n  } else if (dir === \"des\") {\n    indices.sort(\n      (i, j) => _data[i][col].value > _data[j][col].value ? -1 : 1\n    );\n  } else {\n    return;\n  }\n  const temp_data = [..._data];\n  const temp_display_value = _display_value ? [..._display_value] : null;\n  const temp_styling = _styling ? [..._styling] : null;\n  indices.forEach((originalIndex, sortedIndex) => {\n    _data[sortedIndex] = temp_data[originalIndex];\n    if (_display_value && temp_display_value)\n      _display_value[sortedIndex] = temp_display_value[originalIndex];\n    if (_styling && temp_styling)\n      _styling[sortedIndex] = temp_styling[originalIndex];\n  });\n  data = data;\n  if (id) {\n    const [i, j] = get_current_indices(id);\n    selected = [i, j];\n  }\n}\n$:\n  sort_data(data, display_value, styling, sort_by, sort_direction);\n$:\n  selected_index = !!selected && selected[0];\nlet is_visible = false;\nonMount(() => {\n  const observer = new IntersectionObserver((entries, observer2) => {\n    entries.forEach((entry) => {\n      if (entry.isIntersecting && !is_visible) {\n        set_cell_widths();\n        data = data;\n      }\n      is_visible = entry.isIntersecting;\n    });\n  });\n  observer.observe(parent);\n  return () => {\n    observer.disconnect();\n  };\n});\nlet highlighted_column = null;\nlet active_cell_menu = null;\nfunction toggle_cell_menu(event, row, col) {\n  event.stopPropagation();\n  if (active_cell_menu && active_cell_menu.row === row && active_cell_menu.col === col) {\n    active_cell_menu = null;\n  } else {\n    const cell = event.target.closest(\"td\");\n    if (cell) {\n      const rect = cell.getBoundingClientRect();\n      active_cell_menu = {\n        row,\n        col,\n        x: rect.right,\n        y: rect.bottom\n      };\n    }\n  }\n}\nfunction add_row_at(index, position) {\n  const row_index = position === \"above\" ? index : index + 1;\n  add_row(row_index);\n  active_cell_menu = null;\n  active_header_menu = null;\n}\nfunction add_col_at(index, position) {\n  const col_index = position === \"left\" ? index : index + 1;\n  add_col(col_index);\n  active_cell_menu = null;\n  active_header_menu = null;\n}\nonMount(() => {\n  document.addEventListener(\"click\", handle_click_outside);\n  return () => {\n    document.removeEventListener(\"click\", handle_click_outside);\n  };\n});\nlet active_button = null;\nfunction toggle_header_button(col) {\n  if (active_button?.type === \"header\" && active_button.col === col) {\n    active_button = null;\n  } else {\n    active_button = { type: \"header\", col };\n  }\n}\nfunction toggle_cell_button(row, col) {\n  if (active_button?.type === \"cell\" && active_button.row === row && active_button.col === col) {\n    active_button = null;\n  } else {\n    active_button = { type: \"cell\", row, col };\n  }\n}\nlet active_header_menu = null;\nfunction toggle_header_menu(event, col) {\n  event.stopPropagation();\n  if (active_header_menu && active_header_menu.col === col) {\n    active_header_menu = null;\n  } else {\n    const header = event.target.closest(\"th\");\n    if (header) {\n      const rect = header.getBoundingClientRect();\n      active_header_menu = {\n        col,\n        x: rect.right,\n        y: rect.bottom\n      };\n    }\n  }\n}\nfunction reset_selection() {\n  selected = false;\n  last_selected = null;\n}\n</script>\n\n<svelte:window\n\ton:click={handle_click_outside}\n\ton:touchstart={handle_click_outside}\n\ton:resize={() => set_cell_widths()}\n/>\n\n<div class:label={label && label.length !== 0} use:copy>\n\t{#if label && label.length !== 0 && show_label}\n\t\t<p>\n\t\t\t{label}\n\t\t</p>\n\t{/if}\n\t<div\n\t\tbind:this={parent}\n\t\tclass=\"table-wrap\"\n\t\tclass:dragging\n\t\tclass:no-wrap={!wrap}\n\t\tstyle=\"height:{table_height}px\"\n\t\ton:keydown={(e) => handle_keydown(e)}\n\t\trole=\"grid\"\n\t\ttabindex=\"0\"\n\t>\n\t\t<table\n\t\t\tbind:contentRect={t_rect}\n\t\t\tbind:this={table}\n\t\t\tclass:fixed-layout={column_widths.length != 0}\n\t\t>\n\t\t\t{#if label && label.length !== 0}\n\t\t\t\t<caption class=\"sr-only\">{label}</caption>\n\t\t\t{/if}\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t{#each _headers as { value, id }, i (id)}\n\t\t\t\t\t\t<th\n\t\t\t\t\t\t\tclass:editing={header_edit === i}\n\t\t\t\t\t\t\taria-sort={get_sort_status(value, sort_by, sort_direction)}\n\t\t\t\t\t\t\tstyle:width={column_widths.length ? column_widths[i] : undefined}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"cell-wrap\">\n\t\t\t\t\t\t\t\t<EditableCell\n\t\t\t\t\t\t\t\t\t{value}\n\t\t\t\t\t\t\t\t\t{latex_delimiters}\n\t\t\t\t\t\t\t\t\t{line_breaks}\n\t\t\t\t\t\t\t\t\theader\n\t\t\t\t\t\t\t\t\tedit={false}\n\t\t\t\t\t\t\t\t\tel={null}\n\t\t\t\t\t\t\t\t\t{root}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass:sorted={sort_by === i}\n\t\t\t\t\t\t\t\t\tclass:des={sort_by === i && sort_direction === \"des\"}\n\t\t\t\t\t\t\t\t\tclass=\"sort-button {sort_direction} \"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 9 7\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path d=\"M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z\" />\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</th>\n\t\t\t\t\t{/each}\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t{#each max as { value, id }, j (id)}\n\t\t\t\t\t\t<td tabindex=\"-1\" bind:this={cells[j]}>\n\t\t\t\t\t\t\t<div class=\"cell-wrap\">\n\t\t\t\t\t\t\t\t<EditableCell\n\t\t\t\t\t\t\t\t\t{value}\n\t\t\t\t\t\t\t\t\t{latex_delimiters}\n\t\t\t\t\t\t\t\t\t{line_breaks}\n\t\t\t\t\t\t\t\t\tdatatype={Array.isArray(datatype) ? datatype[j] : datatype}\n\t\t\t\t\t\t\t\t\tedit={false}\n\t\t\t\t\t\t\t\t\tel={null}\n\t\t\t\t\t\t\t\t\t{root}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t{/each}\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t\t<Upload\n\t\t\t{upload}\n\t\t\t{stream_handler}\n\t\t\tflex={false}\n\t\t\tcenter={false}\n\t\t\tboundedheight={false}\n\t\t\tdisable_click={true}\n\t\t\t{root}\n\t\t\ton:load={(e) => blob_to_string(data_uri_to_blob(e.detail.data))}\n\t\t\tbind:dragging\n\t\t>\n\t\t\t<VirtualTable\n\t\t\t\tbind:items={data}\n\t\t\t\t{max_height}\n\t\t\t\tbind:actual_height={table_height}\n\t\t\t\tbind:table_scrollbar_width={scrollbar_width}\n\t\t\t\tselected={selected_index}\n\t\t\t>\n\t\t\t\t{#if label && label.length !== 0}\n\t\t\t\t\t<caption class=\"sr-only\">{label}</caption>\n\t\t\t\t{/if}\n\t\t\t\t<tr slot=\"thead\">\n\t\t\t\t\t{#each _headers as { value, id }, i (id)}\n\t\t\t\t\t\t<th\n\t\t\t\t\t\t\tclass:focus={header_edit === i || selected_header === i}\n\t\t\t\t\t\t\taria-sort={get_sort_status(value, sort_by, sort_direction)}\n\t\t\t\t\t\t\tstyle=\"width: var(--cell-width-{i});\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\ttoggle_header_button(i);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"cell-wrap\">\n\t\t\t\t\t\t\t\t<div class=\"header-content\">\n\t\t\t\t\t\t\t\t\t<EditableCell\n\t\t\t\t\t\t\t\t\t\tbind:value={_headers[i].value}\n\t\t\t\t\t\t\t\t\t\tbind:el={els[id].input}\n\t\t\t\t\t\t\t\t\t\t{latex_delimiters}\n\t\t\t\t\t\t\t\t\t\t{line_breaks}\n\t\t\t\t\t\t\t\t\t\tedit={header_edit === i}\n\t\t\t\t\t\t\t\t\t\ton:keydown={end_header_edit}\n\t\t\t\t\t\t\t\t\t\ton:dblclick={() => edit_header(i)}\n\t\t\t\t\t\t\t\t\t\t{select_on_focus}\n\t\t\t\t\t\t\t\t\t\theader\n\t\t\t\t\t\t\t\t\t\t{root}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<!-- TODO: fix -->\n\t\t\t\t\t\t\t\t\t<!-- svelte-ignore a11y-click-events-have-key-events -->\n\t\t\t\t\t\t\t\t\t<!-- svelte-ignore a11y-no-static-element-interactions-->\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass:sorted={sort_by === i}\n\t\t\t\t\t\t\t\t\t\tclass:des={sort_by === i && sort_direction === \"des\"}\n\t\t\t\t\t\t\t\t\t\tclass=\"sort-button {sort_direction}\"\n\t\t\t\t\t\t\t\t\t\ton:click={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\thandle_sort(i);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 9 7\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z\" />\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{#if editable}\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-menu-button\"\n\t\t\t\t\t\t\t\t\t\tclass:visible={active_button?.type === \"header\" &&\n\t\t\t\t\t\t\t\t\t\t\tactive_button.col === i}\n\t\t\t\t\t\t\t\t\t\ton:click={(event) => toggle_header_menu(event, i)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t⋮\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</th>\n\t\t\t\t\t{/each}\n\t\t\t\t</tr>\n\n\t\t\t\t<tr slot=\"tbody\" let:item let:index class:row_odd={index % 2 === 0}>\n\t\t\t\t\t{#each item as { value, id }, j (id)}\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\ton:touchstart={() => start_edit(index, j)}\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\thandle_cell_click(index, j);\n\t\t\t\t\t\t\t\ttoggle_cell_button(index, j);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ton:dblclick={() => start_edit(index, j)}\n\t\t\t\t\t\t\tstyle:width=\"var(--cell-width-{j})\"\n\t\t\t\t\t\t\tstyle={styling?.[index]?.[j] || \"\"}\n\t\t\t\t\t\t\tclass:focus={dequal(selected, [index, j])}\n\t\t\t\t\t\t\tclass:menu-active={active_cell_menu &&\n\t\t\t\t\t\t\t\tactive_cell_menu.row === index &&\n\t\t\t\t\t\t\t\tactive_cell_menu.col === j}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"cell-wrap\">\n\t\t\t\t\t\t\t\t<EditableCell\n\t\t\t\t\t\t\t\t\tbind:value={data[index][j].value}\n\t\t\t\t\t\t\t\t\tbind:el={els[id].input}\n\t\t\t\t\t\t\t\t\tdisplay_value={display_value?.[index]?.[j]}\n\t\t\t\t\t\t\t\t\t{latex_delimiters}\n\t\t\t\t\t\t\t\t\t{line_breaks}\n\t\t\t\t\t\t\t\t\t{editable}\n\t\t\t\t\t\t\t\t\tedit={dequal(editing, [index, j])}\n\t\t\t\t\t\t\t\t\tdatatype={Array.isArray(datatype) ? datatype[j] : datatype}\n\t\t\t\t\t\t\t\t\ton:blur={() => ((clear_on_focus = false), parent.focus())}\n\t\t\t\t\t\t\t\t\t{clear_on_focus}\n\t\t\t\t\t\t\t\t\t{root}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{#if editable}\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-menu-button\"\n\t\t\t\t\t\t\t\t\t\tclass:visible={active_button?.type === \"cell\" &&\n\t\t\t\t\t\t\t\t\t\t\tactive_button.row === index &&\n\t\t\t\t\t\t\t\t\t\t\tactive_button.col === j}\n\t\t\t\t\t\t\t\t\t\ton:click={(event) => toggle_cell_menu(event, index, j)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t⋮\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t{/each}\n\t\t\t\t</tr>\n\t\t\t</VirtualTable>\n\t\t</Upload>\n\t</div>\n</div>\n\n{#if active_cell_menu !== null}\n\t<CellMenu\n\t\t{i18n}\n\t\tx={active_cell_menu.x}\n\t\ty={active_cell_menu.y}\n\t\trow={active_cell_menu?.row ?? -1}\n\t\ton_add_row_above={() => add_row_at(active_cell_menu?.row ?? -1, \"above\")}\n\t\ton_add_row_below={() => add_row_at(active_cell_menu?.row ?? -1, \"below\")}\n\t\ton_add_column_left={() => add_col_at(active_cell_menu?.col ?? -1, \"left\")}\n\t\ton_add_column_right={() => add_col_at(active_cell_menu?.col ?? -1, \"right\")}\n\t/>\n{/if}\n\n{#if active_header_menu !== null}\n\t<CellMenu\n\t\t{i18n}\n\t\tx={active_header_menu.x}\n\t\ty={active_header_menu.y}\n\t\trow={-1}\n\t\ton_add_row_above={() => add_row_at(active_cell_menu?.row ?? -1, \"above\")}\n\t\ton_add_row_below={() => add_row_at(active_cell_menu?.row ?? -1, \"below\")}\n\t\ton_add_column_left={() => add_col_at(active_header_menu?.col ?? -1, \"left\")}\n\t\ton_add_column_right={() =>\n\t\t\tadd_col_at(active_header_menu?.col ?? -1, \"right\")}\n\t/>\n{/if}\n\n<style>\n\t.button-wrap:hover svg {\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.button-wrap svg {\n\t\tmargin-right: var(--size-1);\n\t\tmargin-left: -5px;\n\t}\n\n\t.label p {\n\t\tposition: relative;\n\t\tz-index: var(--layer-4);\n\t\tmargin-bottom: var(--size-2);\n\t\tcolor: var(--block-label-text-color);\n\t\tfont-size: var(--block-label-text-size);\n\t}\n\n\t.table-wrap {\n\t\tposition: relative;\n\t\ttransition: 150ms;\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--table-radius);\n\t\toverflow: hidden;\n\t}\n\n\t.table-wrap:focus-within {\n\t\toutline: none;\n\t\tbackground-color: none;\n\t}\n\n\t.dragging {\n\t\tborder-color: var(--color-accent);\n\t}\n\n\t.no-wrap {\n\t\twhite-space: nowrap;\n\t}\n\n\ttable {\n\t\tposition: absolute;\n\t\topacity: 0;\n\t\ttransition: 150ms;\n\t\twidth: var(--size-full);\n\t\ttable-layout: auto;\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--input-text-size);\n\t\tline-height: var(--line-md);\n\t\tfont-family: var(--font-mono);\n\t\tborder-spacing: 0;\n\t}\n\n\tdiv:not(.no-wrap) td {\n\t\toverflow-wrap: anywhere;\n\t}\n\n\tdiv.no-wrap td {\n\t\toverflow-x: hidden;\n\t}\n\n\ttable.fixed-layout {\n\t\ttable-layout: fixed;\n\t}\n\n\tthead {\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index: var(--layer-1);\n\t}\n\n\ttr {\n\t\tborder-bottom: 1px solid var(--border-color-primary);\n\t\ttext-align: left;\n\t}\n\n\ttr > * + * {\n\t\tborder-right-width: 0px;\n\t\tborder-left-width: 1px;\n\t\tborder-style: solid;\n\t\tborder-color: var(--border-color-primary);\n\t}\n\n\tth,\n\ttd {\n\t\t--ring-color: transparent;\n\t\tposition: relative;\n\t\toutline: none;\n\t\tpadding: 0;\n\t}\n\n\tth:first-child {\n\t\tborder-top-left-radius: var(--table-radius);\n\t}\n\n\tth:last-child {\n\t\tborder-top-right-radius: var(--table-radius);\n\t}\n\n\tth.focus,\n\ttd.focus,\n\ttd.menu-active {\n\t\tz-index: 1;\n\t}\n\n\ttr:last-child td:first-child {\n\t\tborder-bottom-left-radius: var(--table-radius);\n\t}\n\n\ttr:last-child td:last-child {\n\t\tborder-bottom-right-radius: var(--table-radius);\n\t}\n\n\ttr th {\n\t\tbackground: var(--table-even-background-fill);\n\t}\n\n\tth svg {\n\t\tfill: currentColor;\n\t\tfont-size: 10px;\n\t}\n\n\t.sort-button {\n\t\tdisplay: flex;\n\t\tflex: none;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttransition: 150ms;\n\t\tcursor: pointer;\n\t\tpadding: var(--size-2);\n\t\tcolor: var(--body-text-color-subdued);\n\t\tline-height: var(--text-sm);\n\t}\n\n\t.sort-button:hover {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.des {\n\t\ttransform: scaleY(-1);\n\t}\n\n\t.sort-button.sorted {\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.editing {\n\t\tbackground: var(--table-editing);\n\t}\n\n\t.cell-wrap {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\toutline: none;\n\t\theight: var(--size-full);\n\t\tmin-height: var(--size-9);\n\t\toverflow: hidden;\n\t}\n\n\t.header-content {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\toverflow: hidden;\n\t\tflex-grow: 1;\n\t\tmin-width: 0;\n\t}\n\n\t.row_odd {\n\t\tbackground: var(--table-odd-background-fill);\n\t}\n\n\t.row_odd.focus {\n\t\tbackground: var(--background-fill-primary);\n\t}\n\n\ttable {\n\t\tborder-collapse: separate;\n\t}\n\n\t.select-column {\n\t\twidth: var(--size-3);\n\t\ttext-align: center;\n\t\tpadding: var(--size-1);\n\t\tborder-right: none;\n\t}\n\n\t.cell-menu-button {\n\t\tflex-shrink: 0;\n\t\tdisplay: none;\n\t\tbackground-color: var(--block-background-fill);\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--block-radius);\n\t\twidth: var(--size-5);\n\t\theight: var(--size-5);\n\t\tmin-width: var(--size-5);\n\t\tpadding: 0;\n\t\tmargin-right: var(--spacing-sm);\n\t\tz-index: var(--layer-2);\n\t}\n\n\t.cell-menu-button:hover {\n\t\tbackground-color: var(--color-bg-hover);\n\t}\n\n\t.cell-menu-button.visible {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\tth .cell-wrap {\n\t\tpadding-right: var(--spacing-sm);\n\t}\n\n\tth .header-content {\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n</style>\n","<script context=\"module\">export { default as BaseDataFrame } from \"./shared/Table.svelte\";\nexport { default as BaseExample } from \"./Example.svelte\";\n</script>\n\n<script>import { afterUpdate, tick } from \"svelte\";\nimport { Block } from \"@gradio/atoms\";\nimport Table from \"./shared/Table.svelte\";\nimport { StatusTracker } from \"@gradio/statustracker\";\nexport let headers = [];\nexport let elem_id = \"\";\nexport let elem_classes = [];\nexport let visible = true;\nexport let value = {\n  data: [[\"\", \"\", \"\"]],\n  headers: [\"1\", \"2\", \"3\"],\n  metadata: null\n};\nlet old_value = \"\";\nexport let value_is_output = false;\nexport let col_count;\nexport let row_count;\nexport let label = null;\nexport let show_label = true;\nexport let wrap;\nexport let datatype;\nexport let scale = null;\nexport let min_width = void 0;\nexport let root;\nexport let line_breaks = true;\nexport let column_widths = [];\nexport let gradio;\nexport let latex_delimiters;\nexport let max_height = void 0;\nexport let loading_status;\nexport let interactive;\nlet _headers;\nlet display_value;\nlet styling;\nlet values;\nasync function handle_change(data) {\n  let _data = data || value;\n  _headers = [..._data.headers || headers];\n  values = _data.data ? [..._data.data] : [];\n  display_value = _data?.metadata?.display_value ? [..._data?.metadata?.display_value] : null;\n  styling = !interactive && _data?.metadata?.styling ? [..._data?.metadata?.styling] : null;\n  await tick();\n  gradio.dispatch(\"change\");\n  if (!value_is_output) {\n    gradio.dispatch(\"input\");\n  }\n}\nhandle_change();\nafterUpdate(() => {\n  value_is_output = false;\n});\n$: {\n  if (old_value && JSON.stringify(value) !== old_value) {\n    old_value = JSON.stringify(value);\n    handle_change();\n  }\n}\nif (Array.isArray(value) && value?.[0]?.length === 0 || value.data?.[0]?.length === 0) {\n  value = {\n    data: [Array(col_count?.[0] || 3).fill(\"\")],\n    headers: Array(col_count?.[0] || 3).fill(\"\").map((_, i) => `${i + 1}`),\n    metadata: null\n  };\n}\nasync function handle_value_change(data) {\n  if (JSON.stringify(data) !== old_value) {\n    value = { ...data };\n    old_value = JSON.stringify(value);\n    handle_change(data);\n  }\n}\n</script>\n\n<Block\n\t{visible}\n\tpadding={false}\n\t{elem_id}\n\t{elem_classes}\n\tcontainer={false}\n\t{scale}\n\t{min_width}\n\tallow_overflow={false}\n>\n\t<StatusTracker\n\t\tautoscroll={gradio.autoscroll}\n\t\ti18n={gradio.i18n}\n\t\t{...loading_status}\n\t\ton:clear_status={() => gradio.dispatch(\"clear_status\", loading_status)}\n\t/>\n\t<Table\n\t\t{root}\n\t\t{label}\n\t\t{show_label}\n\t\t{row_count}\n\t\t{col_count}\n\t\t{values}\n\t\t{display_value}\n\t\t{styling}\n\t\theaders={_headers}\n\t\ton:change={(e) => handle_value_change(e.detail)}\n\t\ton:select={(e) => gradio.dispatch(\"select\", e.detail)}\n\t\t{wrap}\n\t\t{datatype}\n\t\t{latex_delimiters}\n\t\teditable={interactive}\n\t\t{max_height}\n\t\ti18n={gradio.i18n}\n\t\t{line_breaks}\n\t\t{column_widths}\n\t\tupload={(...args) => gradio.client.upload(...args)}\n\t\tstream_handler={(...args) => gradio.client.stream(...args)}\n\t/>\n</Block>\n"],"names":["insert","target","input","anchor","ctx","set_data","t_value","dirty","markdowncode_changes","create_if_block_2","span","edit","$$props","value","display_value","styling","header","datatype","latex_delimiters","clear_on_focus","select_on_focus","line_breaks","editable","root","dispatch","createEventDispatcher","el","use_focus","node","$$invalidate","_value","handle_blur","currentTarget","$$value","get_key","i","create_if_block","height","svelte_virtual_table_viewport","append","table","thead","tbody","tfoot","get_computed_px_amount","elem","property","compStyle","items","max_height","actual_height","table_scrollbar_width","start","end","selected","average_height","bottom","contents","head_height","foot_height","height_map","mounted","rows","top","viewport","viewport_height","visible","viewport_box","is_browser","raf","cb","content_height","refresh_height_map","_items","scrollTop","row","tick","_h","row_height","remaining","scrollbar_height","filtered_height_map","v","a","b","scroll_and_render","n","direction","is_in_view","scroll_to_index","current","viewport_top","top2","bottom2","handle_scroll","e","scroll_top","is_start_overflow","sortedItems","row_top_border","actual_border_collapsed_width","new_start","y","row_heights","remaining_height","index","opts","align_end","_itemHeight","distance","_opts","onMount","ResizeObserverSingleton","data","svg","path","transform","t1_value","t4_value","button0","button1","t1","t4","t2_value","t5_value","div","t2","t5","x","on_add_row_above","on_add_row_below","on_add_column_left","on_add_column_right","i18n","menu_element","position_menu","viewport_width","menu_rect","new_x","new_y","is_header","p","caption","toggle_class","div0","attr","th","th_aria_sort_value","set_style","div1","td","if_block","create_if_block_4","button","create_if_block_3","div2","editablecell_changes","tr","dequal","editablecell_props","td_style_value","style_changed","cellmenu_changes","if_block0","create_if_block_6","if_block1","create_if_block_5","if_block2","create_if_block_1","if_block3","table_1","tr0","tr1","make_id","guess_delimitaor","text","possibleDelimiters","weedOut","delimiter","cache","checkLength","line","length","data_uri_to_blob","data_uri","byte_str","mime_str","ab","ia","get_max","_d","max2","j","label","show_label","headers","values","col_count","row_count","wrap","column_widths","upload","stream_handler","t_rect","editing","get_data_at","col","last_selected","els","make_headers","_head","fill","_","_id","h","process_data","_values","data_row_length","_2","id","_headers","old_headers","trigger_headers","trigger_change","old_val","get_sort_status","name","_sort","get_current_indices","acc","arr","_acc","_data","k","start_edit","move_cursor","key","current_coords","dir","selected_header","is_data","handle_keydown","event","header_edit","add_row","is_data_x","is_data_y","active_cell","handle_cell_click","parent","sort_direction","sort_by","handle_sort","edit_header","_select","end_header_edit","new_row","add_col","insert_index","new_w","handle_click_outside","active_cell_menu","active_header_menu","trigger","reset_selection","blob_to_string","blob","reader","handle_read","head","rest","dsvFormat","dragging","cells","set_cell_widths","widths","scrollbar_width","table_height","sort_data","_display_value","_styling","indices","temp_data","temp_display_value","temp_styling","originalIndex","sortedIndex","is_visible","observer","entries","observer2","entry","toggle_cell_menu","cell","rect","add_row_at","position","row_index","add_col_at","col_index","active_button","toggle_header_button","toggle_cell_button","toggle_header_menu","$$self","blur_handler","click_handler","dblclick_handler_1","click_handler_3","func","func_1","func_2","func_3","func_4","func_5","func_6","func_7","d","max","selected_index","table_changes","elem_id","elem_classes","old_value","value_is_output","scale","min_width","gradio","loading_status","interactive","handle_change","afterUpdate","handle_value_change","clear_status_handler","args","change_handler"],"mappings":"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"}